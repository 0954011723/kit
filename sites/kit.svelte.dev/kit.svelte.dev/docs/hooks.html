<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#ff3e00" />
		<meta name="color-scheme" content="dark light" />

		<link rel="manifest" href="/manifest.json" />
		<link rel="icon" type="image/png" href="/favicon.png" />

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@sveltejs" />
		<meta name="twitter:creator" content="@sveltejs" />
		<meta name="twitter:image" content="/images/twitter-thumbnail.jpg" />
		<meta name="og:image" content="/images/twitter-thumbnail.jpg" />

		<!-- add inline style and blocking script to prevent content flash/jump -->
		<style>
			.ts-version {
				display: none;
			}
			.prefers-ts .js-version {
				display: none;
			}
			.prefers-ts .ts-version {
				display: block;
			}
			.no-js .ts-toggle {
				display: none;
			}
		</style>
		<script>
			document.getElementsByTagName('html')[0].classList.remove('no-js');
			localStorage.getItem('prefers-ts') === 'true' &&
				document.documentElement.classList.add('prefers-ts');
		</script>

		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout.4a4977ec.css" rel="stylesheet">
		<link href="../_app/immutable/assets/navigation.24972d74.css" rel="stylesheet">
		<link href="../_app/immutable/assets/SearchResults.fb8f4adf.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_layout.8f434bed.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_page.b054ce5e.css" rel="stylesheet">
		<link href="../_app/immutable/assets/hovers.7cc24a08.css" rel="stylesheet">
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-300.3782c01a.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-600.0ca25556.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/fira-mono-latin-400.8d4e0c52.woff2" crossorigin>
		<link rel="modulepreload" href="../_app/immutable/entry/start.bc2154d3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.1cc2e0ff.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.3ca5ba59.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.8c4e863e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.e7f5239e.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.6b34a82d.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.svelte.c9a87e1c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.c28f0607.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/navigation.ad4a0c68.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/SearchResults.ee33e9c4.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.js.984db11e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-layout.svelte.7d27cb05.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-_slug_-page.svelte.42d084fc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/hovers.010bb342.js"><title>Hooks • Docs • SvelteKit</title><!-- HEAD_svelte-18gm73m_START --><meta name="twitter:title" content="SvelteKit docs"><meta name="twitter:description" content="Hooks • SvelteKit documentation"><meta name="Description" content="Hooks • SvelteKit documentation"><!-- HEAD_svelte-18gm73m_END -->
	</head>
	<body>
		<div>


<div style="display: none">
	<svg><symbol id="arrow-left" class="icon" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></symbol><symbol id="arrow-right" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></symbol><symbol id="arrow-up" class="icon" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></symbol><symbol id="arrow-down" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></symbol><symbol id="check" class="icon" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol><symbol id="close" class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol><symbol id="download" class="icon" viewBox="0 0 24 24"><path d="M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></symbol><symbol id="edit" class="icon" viewBox="0 0 24 24"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></symbol><symbol id="github" class="icon" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5229 6.47715 22 12 22C17.5229 22 22 17.5229 22 12C22 6.47715 17.5229 2 12 2ZM0 12C0 5.3726 5.3726 0 12 0C18.6274 0 24 5.3726 24 12C24 18.6274 18.6274 24 12 24C5.3726 24 0 18.6274 0 12Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.59162 22.7357C9.49492 22.6109 9.49492 21.4986 9.59162 19.399C8.55572 19.4347 7.90122 19.3628 7.62812 19.1833C7.21852 18.9139 6.80842 18.0833 6.44457 17.4979C6.08072 16.9125 5.27312 16.8199 4.94702 16.6891C4.62091 16.5582 4.53905 16.0247 5.84562 16.4282C7.15222 16.8316 7.21592 17.9303 7.62812 18.1872C8.04032 18.4441 9.02572 18.3317 9.47242 18.1259C9.91907 17.9201 9.88622 17.1538 9.96587 16.8503C10.0666 16.5669 9.71162 16.5041 9.70382 16.5018C9.26777 16.5018 6.97697 16.0036 6.34772 13.7852C5.71852 11.5669 6.52907 10.117 6.96147 9.49369C7.24972 9.07814 7.22422 8.19254 6.88497 6.83679C8.11677 6.67939 9.06732 7.06709 9.73672 7.99999C9.73737 8.00534 10.6143 7.47854 12.0001 7.47854C13.386 7.47854 13.8777 7.90764 14.2571 7.99999C14.6365 8.09234 14.94 6.36699 17.2834 6.83679C16.7942 7.79839 16.3844 8.99999 16.6972 9.49369C17.0099 9.98739 18.2372 11.5573 17.4833 13.7852C16.9807 15.2706 15.9927 16.1761 14.5192 16.5018C14.3502 16.5557 14.2658 16.6427 14.2658 16.7627C14.2658 16.9427 14.4942 16.9624 14.8233 17.8058C15.0426 18.368 15.0585 19.9739 14.8708 22.6234C14.3953 22.7445 14.0254 22.8257 13.7611 22.8673C13.2924 22.9409 12.7835 22.9822 12.2834 22.9982C11.7834 23.0141 11.6098 23.0123 10.9185 22.948C10.4577 22.9051 10.0154 22.8343 9.59162 22.7357Z" fill="currentColor" stroke="none"></path></symbol><symbol id="git-branch" class="icon" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></symbol><symbol id="log-in" class="icon" viewBox="0 0 24 24"><path d="M15 3H19A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H15"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></symbol><symbol id="maximize" class="icon" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></symbol><symbol id="maximize-2" class="icon" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></symbol><symbol id="menu" class="icon" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></symbol><symbol id="message-square" class="icon" viewBox="0 0 24 24"><g transform="translate(0, 1)"><path d="M16.5 19H11V15H18V11H22V19H19.5L18 20.5L16.5 19Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 3H18V15H8.5L6.5 17L4.5 15H2V3Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 11H9" stroke="white" stroke-width="1.5" stroke-linecap="round"></path><path d="M6 7H12" stroke="white" stroke-width="1.5" stroke-linecap="round"></path></g></symbol><symbol id="minus" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="plus" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="save" class="icon" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></symbol><symbol id="link" class="icon" viewBox="0 0 24 24"><path d="M9,7L6,7A2 2 0 0 0 6,17L9,17"></path><path d="M15,7L18,7A2 2 0 0 1 18,17L15,17"></path><path d="M7,12L17,12"></path></symbol><symbol id="chevron" class="icon" viewBox="0 0 24 24"><path d="M2,7 L12,17 L20,7"></path></symbol><symbol id="delete" class="icon" viewBox="0 0 24 24"><path fill="currentColor" stroke="none" d="M22 4.2h-5.6L15 1.6c-.1-.2-.4-.4-.7-.4H9.6c-.2 0-.5.2-.6.4L7.6 4.2H2c-.4 0-.8.4-.8.8s.4.8.8.8h1.8V22c0 .4.3.8.8.8h15c.4 0 .8-.3.8-.8V5.8H22c.4 0 .8-.3.8-.8s-.4-.8-.8-.8zM10.8 16.5c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5zm4 0c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5z"></path></symbol></svg></div>



<a href="#main" class="svelte-1rscj97">Skip to main content</a>





<nav aria-label="Primary" class="svelte-173nfcg visible"><a href="/" class="nav-spot home svelte-173nfcg" title="Homepage" style="background-image: url(/_app/immutable/assets/svelte-logo.5c5d7d20.svg)">Home</a>

	<button aria-label="Toggle menu" aria-expanded="false" class="menu-toggle svelte-173nfcg">


<svg class="icon svelte-5yec89" width="1em" height="1em"><use xlink:href="#menu"></use></svg></button>

	<ul class="svelte-173nfcg">
			<li class="svelte-tdqbhp"><form class="search-container svelte-9kfram" action="/search"><input value="" type="search" name="q" placeholder="Search" aria-label="Search" spellcheck="false" class="svelte-9kfram">

	
</form></li></ul>

	<ul class="external svelte-173nfcg"><li><a aria-current="true" href="/docs" class="svelte-1iex17r">Docs</a></li>
		<li><a href="/faq" class="svelte-1iex17r">FAQ</a></li>

		<li aria-hidden="true" class="svelte-tdqbhp"><span class="separator svelte-tdqbhp"></span></li>

		<li><a href="https://svelte.dev" rel="external" class="svelte-1iex17r">Svelte</a></li>

		<li><a href="https://svelte.dev/chat" title="Discord Chat" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">Discord</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#message-square"></use></svg></span></a></li>

		<li><a href="https://github.com/sveltejs/kit" title="GitHub Repo" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">GitHub</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#github"></use></svg></span></a></li>
	</ul>
</nav>

<main id="main" class="svelte-tdqbhp" style="--banner-footer-height: 48px;"><div class="container svelte-1rc2dnd"><div class="page svelte-1rc2dnd">

<div class="text content svelte-zelrq3"><h1>Hooks</h1>

	<a class="edit svelte-zelrq3" href="https://github.com/sveltejs/kit/edit/master/documentation/docs/30-advanced/20-hooks.md">


<svg class="icon svelte-5yec89" width="50" height="50"><use xlink:href="#edit"></use></svg> Edit this page on GitHub
	</a>

	<section><!-- HTML_TAG_START --><p>&#39;Hooks&#39; are app-wide functions you declare that SvelteKit will call in response to specific events, giving you fine-grained control over the framework&#39;s behaviour.</p>
<p>There are two hooks files, both optional:</p>
<ul>
<li><code>src/hooks.server.js</code> — your app&#39;s server hooks</li>
<li><code>src/hooks.client.js</code> — your app&#39;s client hooks</li>
</ul>
<p>Code in these modules will run when the application starts up, making them useful for initializing database clients and so on.</p>
<blockquote>
<p>You can configure the location of these files with <a href="configuration#files"><code>config.kit.files.hooks</code></a>.</p>
</blockquote>
<h2 id="server-hooks">Server hooks<a href="#server-hooks" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>The following hooks can be added to <code>src/hooks.server.js</code>:</p>
<h3 id="server-hooks-handle">handle<a href="#server-hooks-handle" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This function runs every time the SvelteKit server receives a <a href="web-standards#fetch-apis-request">request</a> — whether that happens while the app is running, or during <a href="page-options#prerender">prerendering</a> — and determines the <a href="web-standards#fetch-apis-response">response</a>. It receives an <code>event</code> object representing the request and a function called <code>resolve</code>, which renders the route and generates a <code>Response</code>. This allows you to modify response headers or bodies, or bypass SvelteKit entirely (for implementing routes programmatically, for example).</p>
<div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handle">Handle</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handle(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.url: URL' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) URL.pathname: string' >pathname</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;/custom&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='var Response: new (body?: BodyInit | null | undefined, init?: ResponseInit | undefined) => Response' >Response</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;custom response&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}) => Promise&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.url: URL' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) URL.pathname: string' >pathname</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;/custom&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='var Response: new (body?: BodyInit | null | undefined, init?: ResponseInit | undefined) => Response' >Response</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;custom response&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp>;</span></div></code></div></pre></div><blockquote>
<p>Requests for static assets — which includes pages that were already prerendered — are <em>not</em> handled by SvelteKit.</p>
</blockquote>
<p>If unimplemented, defaults to <code>({ event, resolve }) =&gt; resolve(event)</code>. To add custom data to the request, which is passed to handlers in <code>+server.js</code> and server <code>load</code> functions, populate the <code>event.locals</code> object, as shown below.</p>
<div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handle">Handle</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handle(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.locals: App.<a href="/docs/types#app-locals">Locals</a>' >locals</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) App.<a href="/docs/types#app-locals">Locals</a>.user: User' >user</data-lsp> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='const getUserInformation: (cookie: string | void) => Promise&amp;lt;User>' >getUserInformation</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.cookies: <a href="/docs/types#public-types-cookies">Cookies</a>' >cookies</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) <a href="/docs/types#public-types-cookies">Cookies</a>.get(name: string, opts?: CookieParseOptions | undefined): string | undefined' >get</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;sessionid&apos;</span><span style="color: var(--shiki-color-text)">));</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Response.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.set(name: string, value: string): void' >set</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;x-custom-header&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;potato&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}) => Promise&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.locals: App.<a href="/docs/types#app-locals">Locals</a>' >locals</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) App.<a href="/docs/types#app-locals">Locals</a>.user: User' >user</data-lsp> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='const getUserInformation: (cookie: string | void) => Promise&amp;lt;User>' >getUserInformation</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.cookies: <a href="/docs/types#public-types-cookies">Cookies</a>' >cookies</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) <a href="/docs/types#public-types-cookies">Cookies</a>.get(name: string, opts?: CookieParseOptions | undefined): string | undefined' >get</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;sessionid&apos;</span><span style="color: var(--shiki-color-text)">));</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Response.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.set(name: string, value: string): void' >set</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;x-custom-header&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;potato&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp>;</span></div></code></div></pre></div><p>You can define multiple <code>handle</code> functions and execute them with <a href="modules#sveltejs-kit-hooks">the <code>sequence</code> helper function</a>.</p>
<p><code>resolve</code> also supports a second, optional parameter that gives you more control over how the response will be rendered. That parameter is an object that can have the following fields:</p>
<ul>
<li><code>transformPageChunk(opts: { html: string, done: boolean }): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&lt;string | undefined&gt;</code> — applies custom transforms to HTML. If <code>done</code> is true, it&#39;s the final chunk. Chunks are not guaranteed to be well-formed HTML (they could include an element&#39;s opening tag but not its closing tag, for example) but they will always be split at sensible boundaries such as <code>%sveltekit.head%</code> or layout/page components.</li>
<li><code>filterSerializedResponseHeaders(name: string, value: string): boolean</code> — determines which headers should be included in serialized responses when a <code>load</code> function loads a resource with <code>fetch</code>. By default, none will be included.</li>
<li><code>preload(input: { type: &#39;js&#39; | &#39;css&#39; | &#39;font&#39; | &#39;asset&#39;, path: string }): boolean</code> — determines what files should be added to the <code>&lt;head&gt;</code> tag to preload it. The method is called with each file that was found at build time while constructing the code chunks — so if you for example have <code>import &#39;./styles.css</code> in your <code>+page.svelte</code>, <code>preload</code> will be called with the resolved path to that CSS file when visiting that page. Note that in dev mode <code>preload</code> is <em>not</em> called, since it depends on analysis that happens at build time. Preloading can improve performance by downloading assets sooner, but it can also hurt if too much is downloaded unnecessarily. By default, <code>js</code> and <code>css</code> files will be preloaded. <code>asset</code> files are not preloaded at all currently, but we may add this later after evaluating feedback.</li>
</ul>
<div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handle">Handle</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handle(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;string | undefined>' >transformPageChunk</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) html: string' >html</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) html: string' >html</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' >replace</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;old&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;new&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.filterSerializedResponseHeaders?(name: string, value: string): boolean' >filterSerializedResponseHeaders</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> (<data-lsp lsp='(parameter) name: string' >name</data-lsp>) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) name: string' >name</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;x-&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.preload?(input: {&amp;#10;    type: "font" | "css" | "js" | "asset";&amp;#10;    path: string;&amp;#10;}): boolean' >preload</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) type: "font" | "css" | "js" | "asset"' >type</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) path: string' >path</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) type: "font" | "css" | "js" | "asset"' >type</data-lsp> </span><span style="color: var(--shiki-token-keyword)">===</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;js&apos;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) path: string' >path</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean' >includes</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;/important/&apos;</span><span style="color: var(--shiki-color-text)">)</span></div><div class='line'><span style="color: var(--shiki-color-text)">  });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}) => Promise&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const response: Response' >response</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;string | undefined>' >transformPageChunk</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) html: string' >html</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) html: string' >html</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' >replace</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;old&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;new&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.filterSerializedResponseHeaders?(name: string, value: string): boolean' >filterSerializedResponseHeaders</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> (<data-lsp lsp='(parameter) name: string' >name</data-lsp>) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) name: string' >name</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;x-&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.preload?(input: {&amp;#10;    type: "font" | "css" | "js" | "asset";&amp;#10;    path: string;&amp;#10;}): boolean' >preload</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) type: "font" | "css" | "js" | "asset"' >type</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) path: string' >path</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) type: "font" | "css" | "js" | "asset"' >type</data-lsp> </span><span style="color: var(--shiki-token-keyword)">===</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;js&apos;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) path: string' >path</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean' >includes</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;/important/&apos;</span><span style="color: var(--shiki-color-text)">)</span></div><div class='line'><span style="color: var(--shiki-color-text)">  });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const response: Response' >response</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handle">Handle</a>&amp;#10;import <a href="/docs/types#public-types-handle">Handle</a>' ><a href="/docs/types#public-types-handle">Handle</a></data-lsp>;</span></div></code></div></pre></div><p>Note that <code>resolve(...)</code> will never throw an error, it will always return a <code>Promise&lt;Response&gt;</code> with the appropriate status code. If an error is thrown elsewhere during <code>handle</code>, it is treated as fatal, and SvelteKit will respond with a JSON representation of the error or a fallback error page — which can be customised via <code>src/error.html</code> — depending on the <code>Accept</code> header. You can read more about error handling <a href="errors">here</a>.</p>
<h3 id="server-hooks-handlefetch">handleFetch<a href="#server-hooks-handlefetch" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This function allows you to modify (or replace) a <code>fetch</code> request that happens inside a <code>load</code> or <code>action</code> function that runs on the server (or during pre-rendering).</p>
<p>For example, your <code>load</code> function might make a request to a public URL like <code>https://api.yourapp.com</code> when the user performs a client-side navigation to the respective page, but during SSR it might make sense to hit the API directly (bypassing whatever proxies and load balancers sit between it and the public internet).</p>
<div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handlefetch">HandleFetch</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handleFetch(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handleFetch</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.yourapp.com/&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// clone the original request, but change the URL</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(parameter) request: Request' >request</data-lsp> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='var Request: new (input: RequestInfo | URL, init?: RequestInit | undefined) => Request' >Request</data-lsp></span><span style="color: var(--shiki-color-text)">(</span></div><div class='line'><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' >replace</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.yourapp.com/&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;http://localhost:9999/&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">      <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">    );</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) request: Request' >request</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handlefetch">HandleFetch</a>&amp;#10;import <a href="/docs/types#public-types-handlefetch">HandleFetch</a>' ><a href="/docs/types#public-types-handlefetch">HandleFetch</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handleFetch: ({ request, fetch }: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;...>;&amp;#10;}) => Promise&amp;lt;...>' >handleFetch</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (({ <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.yourapp.com/&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// clone the original request, but change the URL</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(parameter) request: Request' >request</data-lsp> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='var Request: new (input: RequestInfo | URL, init?: RequestInit | undefined) => Request' >Request</data-lsp></span><span style="color: var(--shiki-color-text)">(</span></div><div class='line'><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' >replace</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.yourapp.com/&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;http://localhost:9999/&apos;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">      <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">    );</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) request: Request' >request</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handlefetch">HandleFetch</a>&amp;#10;import <a href="/docs/types#public-types-handlefetch">HandleFetch</a>' ><a href="/docs/types#public-types-handlefetch">HandleFetch</a></data-lsp>;</span></div></code></div></pre></div><p><strong>Credentials</strong></p>
<p>For same-origin requests, SvelteKit&#39;s <code>fetch</code> implementation will forward <code>cookie</code> and <code>authorization</code> headers unless the <code>credentials</code> option is set to <code>&quot;omit&quot;</code>.</p>
<p>For cross-origin requests, <code>cookie</code> will be included if the request URL belongs to a subdomain of the app — for example if your app is on <code>my-domain.com</code>, and your API is on <code>api.my-domain.com</code>, cookies will be included in the request.</p>
<p>If your app and your API are on sibling subdomains — <code>www.my-domain.com</code> and <code>api.my-domain.com</code> for example — then a cookie belonging to a common parent domain like <code>my-domain.com</code> will <em>not</em> be included, because SvelteKit has no way to know which domain the cookie belongs to. In these cases you will need to manually include the cookie using <code>handleFetch</code>:</p>
<div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handlefetch">HandleFetch</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handleFetch(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handleFetch</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.my-domain.com/&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.set(name: string, value: string): void' >set</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;cookie&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.get(name: string): string | null' >get</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;cookie&apos;</span><span style="color: var(--shiki-color-text)">));</span></div><span class="error"><span>Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.</span><span class="code">2345</span></span><span class="error-behind">Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.</span><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) request: Request' >request</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handlefetch">HandleFetch</a>&amp;#10;import <a href="/docs/types#public-types-handlefetch">HandleFetch</a>' ><a href="/docs/types#public-types-handlefetch">HandleFetch</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handleFetch: ({ event, request, fetch }: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;...>;&amp;#10;}) => Promise&amp;lt;...>' >handleFetch</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.url: string' >url</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' >startsWith</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;https://api.my-domain.com/&apos;</span><span style="color: var(--shiki-color-text)">)) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.set(name: string, value: string): void' >set</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;cookie&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>.request: Request' >request</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) Request.headers: Headers' >headers</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Headers.get(name: string): string | null' >get</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;cookie&apos;</span><span style="color: var(--shiki-color-text)">));</span></div><span class="error"><span>Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.</span><span class="code">2345</span></span><span class="error-behind">Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.</span><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) => Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) request: Request' >request</data-lsp>);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handlefetch">HandleFetch</a>&amp;#10;import <a href="/docs/types#public-types-handlefetch">HandleFetch</a>' ><a href="/docs/types#public-types-handlefetch">HandleFetch</a></data-lsp>;</span></div></code></div></pre></div><h2 id="shared-hooks">Shared hooks<a href="#shared-hooks" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>The following can be added to <code>src/hooks.server.js</code> <em>and</em> <code>src/hooks.client.js</code>:</p>
<h3 id="shared-hooks-handleerror">handleError<a href="#shared-hooks-handleerror" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>If an unexpected error is thrown during loading or rendering, this function will be called with the <code>error</code> and the <code>event</code>. This allows for two things:</p>
<ul>
<li>you can log the error</li>
<li>you can generate a custom representation of the error that is safe to show to users, omitting sensitive details like messages and stack traces. The returned value becomes the value of <code>$page.error</code>. It defaults to <code>{ message: &#39;Not Found&#39; }</code> in case of a 404 (you can detect them through <code>event.route.id</code> being <code>null</code>) and to <code>{ message: &#39;Internal <a href="/docs/types#app-error">Error</a>&#39; }</code> for everything else. To make this type-safe, you can customize the expected shape by declaring an <code>App.<a href="/docs/types#app-error">Error</a></code> interface (which must include <code>message: string</code>, to guarantee sensible fallback behavior).</li>
</ul>
<p>The following code shows an example of typing the error shape as <code>{ message: string; errorId: string }</code> and returning it accordingly from the <code>handleError</code> functions:</p>
<div class="code-block"><span class="filename">src/app.d.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">declare</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='namespace global' >global</data-lsp> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">namespace</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='namespace App' >App</data-lsp></span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='interface App.<a href="/docs/types#app-error">Error</a>' ><a href="/docs/types#app-error">Error</a></data-lsp></span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">      <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.message: string' >message</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-color-text)">      <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.errorId: string' >errorId</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-color-text)">    }</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> {};</span></div></code></div></pre></div><div class="js-version code-block"><span class="filename">src/hooks.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sentry/node&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "crypto"&amp;#10;import crypto' >crypto</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;crypto&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const init: (opts: any) => void' >init</data-lsp></span><span style="color: var(--shiki-color-text)">({</span><span style="color: var(--shiki-token-comment)">/*...*/</span><span style="color: var(--shiki-color-text)">})</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handleservererror">HandleServerError</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handleError(input: {&amp;#10;    error: unknown;&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;void | App.<a href="/docs/types#app-error">Error</a>>' >handleError</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp> }) {</span></div><span class="error"><span>Type '{ message: string; errorId: string; }' is not assignable to type '<a href="/docs/types#private-types-maybepromise">MaybePromise</a>&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.
  Object literal may only specify known properties, and 'errorId' does not exist in type '<a href="/docs/types#app-error">Error</a> | Promise&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.</span><span class="code">2322</span></span><span class="error-behind">Type '{ message: string; errorId: string; }' is not assignable to type '<a href="/docs/types#private-types-maybepromise">MaybePromise</a>&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.
  Object literal may only specify known properties, and 'errorId' does not exist in type '<a href="/docs/types#app-error">Error</a> | Promise&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.</span><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const errorId: string' >errorId</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "crypto"&amp;#10;import crypto' >crypto</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='function randomUUID(options?: crypto.RandomUUIDOptions | undefined): string' >randomUUID</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// example integration with https://sentry.io/</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const captureException: (error: any, opts: any) => void' >captureException</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(property) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(property) errorId: string' >errorId</data-lsp> });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.message: string' >message</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;Whoops!&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) errorId: string' >errorId</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">  };</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sentry/node&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "crypto"&amp;#10;import crypto' >crypto</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;crypto&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handleservererror">HandleServerError</a>&amp;#10;import <a href="/docs/types#public-types-handleservererror">HandleServerError</a>' ><a href="/docs/types#public-types-handleservererror">HandleServerError</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const init: (opts: any) => void' >init</data-lsp></span><span style="color: var(--shiki-color-text)">({</span><span style="color: var(--shiki-token-comment)">/*...*/</span><span style="color: var(--shiki-color-text)">})</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handleError: ({ error, event }: {&amp;#10;    error: unknown;&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;}) => {&amp;#10;    message: string;&amp;#10;    errorId: string;&amp;#10;}' >handleError</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (({ <data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const errorId: string' >errorId</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "crypto"&amp;#10;import crypto' >crypto</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='function randomUUID(options?: crypto.RandomUUIDOptions | undefined): string' >randomUUID</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// example integration with https://sentry.io/</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/node"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const captureException: (error: any, opts: any) => void' >captureException</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(property) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(property) errorId: string' >errorId</data-lsp> });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.message: string' >message</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;Whoops!&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) errorId: string' >errorId</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">  };</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handleservererror">HandleServerError</a>&amp;#10;import <a href="/docs/types#public-types-handleservererror">HandleServerError</a>' ><a href="/docs/types#public-types-handleservererror">HandleServerError</a></data-lsp>;</span></div></code></div></pre></div><div class="js-version code-block"><span class="filename">src/hooks.client.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sentry/svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const init: (opts: any) => void' >init</data-lsp></span><span style="color: var(--shiki-color-text)">({</span><span style="color: var(--shiki-token-comment)">/*...*/</span><span style="color: var(--shiki-color-text)">})</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handleclienterror">HandleClientError</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handleError(input: {&amp;#10;    error: unknown;&amp;#10;    event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;void | App.<a href="/docs/types#app-error">Error</a>>' >handleError</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp> }) {</span></div><span class="error"><span>Type '{ message: string; errorId: string; }' is not assignable to type '<a href="/docs/types#private-types-maybepromise">MaybePromise</a>&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.
  Object literal may only specify known properties, and 'errorId' does not exist in type '<a href="/docs/types#app-error">Error</a> | Promise&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.</span><span class="code">2322</span></span><span class="error-behind">Type '{ message: string; errorId: string; }' is not assignable to type '<a href="/docs/types#private-types-maybepromise">MaybePromise</a>&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.
  Object literal may only specify known properties, and 'errorId' does not exist in type '<a href="/docs/types#app-error">Error</a> | Promise&lt;void | <a href="/docs/types#app-error">Error</a>&gt;'.</span><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const errorId: string' >errorId</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='var crypto: Crypto' >crypto</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Crypto.randomUUID(): string' >randomUUID</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// example integration with https://sentry.io/</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const captureException: (error: any, opts: any) => void' >captureException</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(property) event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(property) errorId: string' >errorId</data-lsp> });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.message: string' >message</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;Whoops!&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) errorId: string' >errorId</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">  };</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/hooks.client.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sentry/svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handleclienterror">HandleClientError</a>&amp;#10;import <a href="/docs/types#public-types-handleclienterror">HandleClientError</a>' ><a href="/docs/types#public-types-handleclienterror">HandleClientError</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const init: (opts: any) => void' >init</data-lsp></span><span style="color: var(--shiki-color-text)">({</span><span style="color: var(--shiki-token-comment)">/*...*/</span><span style="color: var(--shiki-color-text)">})</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const handleError: ({ error, event }: {&amp;#10;    error: unknown;&amp;#10;    event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;}) => {&amp;#10;    message: string;&amp;#10;    errorId: string;&amp;#10;}' >handleError</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (({ <data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const errorId: string' >errorId</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='var crypto: Crypto' >crypto</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Crypto.randomUUID(): string' >randomUUID</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// example integration with https://sentry.io/</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) module "@sentry/svelte"&amp;#10;import Sentry' >Sentry</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='const captureException: (error: any, opts: any) => void' >captureException</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) error: unknown' >error</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(property) event: <a href="/docs/types#public-types-navigationevent">NavigationEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(property) errorId: string' >errorId</data-lsp> });</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) App.<a href="/docs/types#app-error">Error</a>.message: string' >message</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;Whoops!&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">    <data-lsp lsp='(property) errorId: string' >errorId</data-lsp></span></div><div class='line'><span style="color: var(--shiki-color-text)">  };</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) interface <a href="/docs/types#public-types-handleclienterror">HandleClientError</a>&amp;#10;import <a href="/docs/types#public-types-handleclienterror">HandleClientError</a>' ><a href="/docs/types#public-types-handleclienterror">HandleClientError</a></data-lsp>;</span></div></code></div></pre></div><blockquote>
<p>In <code>src/hooks.client.js</code>, the type of <code>handleError</code> is <code><a href="/docs/types#public-types-handleclienterror">HandleClientError</a></code> instead of <code><a href="/docs/types#public-types-handleservererror">HandleServerError</a></code>, and <code>event</code> is a <code><a href="/docs/types#public-types-navigationevent">NavigationEvent</a></code> rather than a <code><a href="/docs/types#public-types-requestevent">RequestEvent</a></code>.</p>
</blockquote>
<p>This function is not called for <em>expected</em> errors (those thrown with the <a href="modules#sveltejs-kit-error"><code>error</code></a> function imported from <code>@sveltejs/kit</code>).</p>
<p>During development, if an error occurs because of a syntax error in your Svelte code, the passed in error has a <code>frame</code> property appended highlighting the location of the error.</p>
<blockquote>
<p>Make sure that <code>handleError</code> <em>never</em> throws an error</p>
</blockquote>
<h2 id="further-reading">Further reading<a href="#further-reading" class="permalink"><span class="visually-hidden">permalink</span></a></h2><ul>
<li><a href="https://learn.svelte.dev/tutorial/handle">Tutorial: Hooks</a></li>
</ul>
<!-- HTML_TAG_END --></section>

	<div class="controls svelte-zelrq3"><div class="svelte-zelrq3"><span class="svelte-zelrq3">previous</span>
			<a href="/docs/advanced-routing">Advanced routing</a></div>

		<div class="svelte-zelrq3"><span class="svelte-zelrq3">next</span>
			<a href="/docs/errors">Errors</a></div></div></div>



<aside class="on-this-page svelte-tsiaal"><h2 class="svelte-tsiaal">On this page</h2>
	<nav><ul class="svelte-tsiaal"><li><a href="/docs/hooks" class="svelte-tsiaal active">Hooks</a></li>
			<li><a href="#server-hooks" class="svelte-tsiaal">Server hooks</a></li><li><a href="#shared-hooks" class="svelte-tsiaal">Shared hooks</a></li><li><a href="#further-reading" class="svelte-tsiaal">Further reading</a></li></ul></nav>
</aside></div>

	<div class="toc-container svelte-1rc2dnd"><nav aria-label="Docs" class="svelte-1izbfc5"><ul class="sidebar svelte-1izbfc5"><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Getting started</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/introduction">Introduction</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/creating-a-project">Creating a project</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/project-structure">Project structure</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/web-standards">Web standards</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Core concepts</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/routing">Routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/load">Loading data</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/form-actions">Form actions</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/page-options">Page options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/state-management">State management</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Build and deploy</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/building-your-app">Building your app</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapters">Adapters</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-auto">Zero-config deployments</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-node">Node servers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-static">Static site generation</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/single-page-apps">Single-page apps</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare">Cloudflare Pages</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare-workers">Cloudflare Workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-netlify">Netlify</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-vercel">Vercel</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/writing-adapters">Writing adapters</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Advanced</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/advanced-routing">Advanced routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5 active" href="/docs/hooks">Hooks</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/errors">Errors</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/link-options">Link options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/service-workers">Service workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/server-only-modules">Server-only modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/assets">Asset handling</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/snapshots">Snapshots</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/packaging">Packaging</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Best practices</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/accessibility">Accessibility</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/seo">SEO</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Reference</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/configuration">Configuration</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/cli">Command Line Interface</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/modules">Modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/types">Types</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Appendix</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/integrations">Integrations</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/migrating">Migrating from Sapper</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/additional-resources">Additional resources</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/glossary">Glossary</a>
						</li></ul>
			</li></ul>
</nav></div>

	<div class="ts-toggle svelte-1rc2dnd"><div class="input-output-toggle svelte-1ev6lam"><span aria-hidden="true">JavaScript</span> <button aria-pressed="false" class="svelte-1c3yzdv"><span class="visually-hidden">TypeScript code examples</span>
</button> <span aria-hidden="true">TypeScript</span>
</div></div>
</div></main>

<div class="banner svelte-tdqbhp" style="--banner-footer-height: 48px;"><a target="_blank" rel="noopener noreferrer" href="https://hack.sveltesociety.dev/"><span class="small svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Participate →
			</span>
			<span class="large svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Our first hackathon with over $12,000 in prizes →
			</span></a>
		<button class="svelte-tdqbhp">✕ </button></div>




			
			<script>
				{
					__sveltekit_duwvm8 = {
						env: {},
						base: new URL("..", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,{"type":"data","data":{sections:[{title:"Getting started",pages:[{title:"Introduction",path:"\u002Fdocs\u002Fintroduction"},{title:"Creating a project",path:"\u002Fdocs\u002Fcreating-a-project"},{title:"Project structure",path:"\u002Fdocs\u002Fproject-structure"},{title:"Web standards",path:"\u002Fdocs\u002Fweb-standards"}]},{title:"Core concepts",pages:[{title:"Routing",path:"\u002Fdocs\u002Frouting"},{title:"Loading data",path:"\u002Fdocs\u002Fload"},{title:"Form actions",path:"\u002Fdocs\u002Fform-actions"},{title:"Page options",path:"\u002Fdocs\u002Fpage-options"},{title:"State management",path:"\u002Fdocs\u002Fstate-management"}]},{title:"Build and deploy",pages:[{title:"Building your app",path:"\u002Fdocs\u002Fbuilding-your-app"},{title:"Adapters",path:"\u002Fdocs\u002Fadapters"},{title:"Zero-config deployments",path:"\u002Fdocs\u002Fadapter-auto"},{title:"Node servers",path:"\u002Fdocs\u002Fadapter-node"},{title:"Static site generation",path:"\u002Fdocs\u002Fadapter-static"},{title:"Single-page apps",path:"\u002Fdocs\u002Fsingle-page-apps"},{title:"Cloudflare Pages",path:"\u002Fdocs\u002Fadapter-cloudflare"},{title:"Cloudflare Workers",path:"\u002Fdocs\u002Fadapter-cloudflare-workers"},{title:"Netlify",path:"\u002Fdocs\u002Fadapter-netlify"},{title:"Vercel",path:"\u002Fdocs\u002Fadapter-vercel"},{title:"Writing adapters",path:"\u002Fdocs\u002Fwriting-adapters"}]},{title:"Advanced",pages:[{title:"Advanced routing",path:"\u002Fdocs\u002Fadvanced-routing"},{title:"Hooks",path:"\u002Fdocs\u002Fhooks"},{title:"Errors",path:"\u002Fdocs\u002Ferrors"},{title:"Link options",path:"\u002Fdocs\u002Flink-options"},{title:"Service workers",path:"\u002Fdocs\u002Fservice-workers"},{title:"Server-only modules",path:"\u002Fdocs\u002Fserver-only-modules"},{title:"Asset handling",path:"\u002Fdocs\u002Fassets"},{title:"Snapshots",path:"\u002Fdocs\u002Fsnapshots"},{title:"Packaging",path:"\u002Fdocs\u002Fpackaging"}]},{title:"Best practices",pages:[{title:"Accessibility",path:"\u002Fdocs\u002Faccessibility"},{title:"SEO",path:"\u002Fdocs\u002Fseo"}]},{title:"Reference",pages:[{title:"Configuration",path:"\u002Fdocs\u002Fconfiguration"},{title:"Command Line Interface",path:"\u002Fdocs\u002Fcli"},{title:"Modules",path:"\u002Fdocs\u002Fmodules"},{title:"Types",path:"\u002Fdocs\u002Ftypes"}]},{title:"Appendix",pages:[{title:"Integrations",path:"\u002Fdocs\u002Fintegrations"},{title:"Migrating from Sapper",path:"\u002Fdocs\u002Fmigrating"},{title:"Additional resources",path:"\u002Fdocs\u002Fadditional-resources"},{title:"Glossary",path:"\u002Fdocs\u002Fglossary"}]}]},"uses":{}},{"type":"data","data":{page:{file:"docs\u002F30-advanced\u002F20-hooks.md",slug:"hooks",title:"Hooks",content:"\u003Cp\u003E&#39;Hooks&#39; are app-wide functions you declare that SvelteKit will call in response to specific events, giving you fine-grained control over the framework&#39;s behaviour.\u003C\u002Fp\u003E\n\u003Cp\u003EThere are two hooks files, both optional:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Esrc\u002Fhooks.server.js\u003C\u002Fcode\u003E — your app&#39;s server hooks\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Esrc\u002Fhooks.client.js\u003C\u002Fcode\u003E — your app&#39;s client hooks\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECode in these modules will run when the application starts up, making them useful for initializing database clients and so on.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EYou can configure the location of these files with \u003Ca href=\"configuration#files\"\u003E\u003Ccode\u003Econfig.kit.files.hooks\u003C\u002Fcode\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"server-hooks\"\u003EServer hooks\u003Ca href=\"#server-hooks\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EThe following hooks can be added to \u003Ccode\u003Esrc\u002Fhooks.server.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Ch3 id=\"server-hooks-handle\"\u003Ehandle\u003Ca href=\"#server-hooks-handle\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis function runs every time the SvelteKit server receives a \u003Ca href=\"web-standards#fetch-apis-request\"\u003Erequest\u003C\u002Fa\u003E — whether that happens while the app is running, or during \u003Ca href=\"page-options#prerender\"\u003Eprerendering\u003C\u002Fa\u003E — and determines the \u003Ca href=\"web-standards#fetch-apis-response\"\u003Eresponse\u003C\u002Fa\u003E. It receives an \u003Ccode\u003Eevent\u003C\u002Fcode\u003E object representing the request and a function called \u003Ccode\u003Eresolve\u003C\u002Fcode\u003E, which renders the route and generates a \u003Ccode\u003EResponse\u003C\u002Fcode\u003E. This allows you to modify response headers or bodies, or bypass SvelteKit entirely (for implementing routes programmatically, for example).\u003C\u002Fp\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handle(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) URL.pathname: string' \u003Epathname\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;\u002Fcustom&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enew\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='var Response: new (body?: BodyInit | null | undefined, init?: ResponseInit | undefined) =\u003E Response' \u003EResponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;custom response&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}) =\u003E Promise&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) URL.pathname: string' \u003Epathname\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;\u002Fcustom&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enew\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='var Response: new (body?: BodyInit | null | undefined, init?: ResponseInit | undefined) =\u003E Response' \u003EResponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;custom response&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003ERequests for static assets — which includes pages that were already prerendered — are \u003Cem\u003Enot\u003C\u002Fem\u003E handled by SvelteKit.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EIf unimplemented, defaults to \u003Ccode\u003E({ event, resolve }) =&gt; resolve(event)\u003C\u002Fcode\u003E. To add custom data to the request, which is passed to handlers in \u003Ccode\u003E+server.js\u003C\u002Fcode\u003E and server \u003Ccode\u003Eload\u003C\u002Fcode\u003E functions, populate the \u003Ccode\u003Eevent.locals\u003C\u002Fcode\u003E object, as shown below.\u003C\u002Fp\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handle(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.locals: App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-locals\"\u003ELocals\u003C\u002Fa\u003E' \u003Elocals\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-locals\"\u003ELocals\u003C\u002Fa\u003E.user: User' \u003Euser\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='const getUserInformation: (cookie: string | void) =\u003E Promise&amp;lt;User\u003E' \u003EgetUserInformation\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.cookies: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-cookies\"\u003ECookies\u003C\u002Fa\u003E' \u003Ecookies\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-cookies\"\u003ECookies\u003C\u002Fa\u003E.get(name: string, opts?: CookieParseOptions | undefined): string | undefined' \u003Eget\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;sessionid&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E));\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Response.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.set(name: string, value: string): void' \u003Eset\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;x-custom-header&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;potato&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}) =\u003E Promise&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.locals: App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-locals\"\u003ELocals\u003C\u002Fa\u003E' \u003Elocals\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-locals\"\u003ELocals\u003C\u002Fa\u003E.user: User' \u003Euser\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='const getUserInformation: (cookie: string | void) =\u003E Promise&amp;lt;User\u003E' \u003EgetUserInformation\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.cookies: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-cookies\"\u003ECookies\u003C\u002Fa\u003E' \u003Ecookies\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-cookies\"\u003ECookies\u003C\u002Fa\u003E.get(name: string, opts?: CookieParseOptions | undefined): string | undefined' \u003Eget\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;sessionid&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E));\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Response.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.set(name: string, value: string): void' \u003Eset\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;x-custom-header&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;potato&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EYou can define multiple \u003Ccode\u003Ehandle\u003C\u002Fcode\u003E functions and execute them with \u003Ca href=\"modules#sveltejs-kit-hooks\"\u003Ethe \u003Ccode\u003Esequence\u003C\u002Fcode\u003E helper function\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Eresolve\u003C\u002Fcode\u003E also supports a second, optional parameter that gives you more control over how the response will be rendered. That parameter is an object that can have the following fields:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003EtransformPageChunk(opts: { html: string, done: boolean }): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&lt;string | undefined&gt;\u003C\u002Fcode\u003E — applies custom transforms to HTML. If \u003Ccode\u003Edone\u003C\u002Fcode\u003E is true, it&#39;s the final chunk. Chunks are not guaranteed to be well-formed HTML (they could include an element&#39;s opening tag but not its closing tag, for example) but they will always be split at sensible boundaries such as \u003Ccode\u003E%sveltekit.head%\u003C\u002Fcode\u003E or layout\u002Fpage components.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003EfilterSerializedResponseHeaders(name: string, value: string): boolean\u003C\u002Fcode\u003E — determines which headers should be included in serialized responses when a \u003Ccode\u003Eload\u003C\u002Fcode\u003E function loads a resource with \u003Ccode\u003Efetch\u003C\u002Fcode\u003E. By default, none will be included.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Epreload(input: { type: &#39;js&#39; | &#39;css&#39; | &#39;font&#39; | &#39;asset&#39;, path: string }): boolean\u003C\u002Fcode\u003E — determines what files should be added to the \u003Ccode\u003E&lt;head&gt;\u003C\u002Fcode\u003E tag to preload it. The method is called with each file that was found at build time while constructing the code chunks — so if you for example have \u003Ccode\u003Eimport &#39;.\u002Fstyles.css\u003C\u002Fcode\u003E in your \u003Ccode\u003E+page.svelte\u003C\u002Fcode\u003E, \u003Ccode\u003Epreload\u003C\u002Fcode\u003E will be called with the resolved path to that CSS file when visiting that page. Note that in dev mode \u003Ccode\u003Epreload\u003C\u002Fcode\u003E is \u003Cem\u003Enot\u003C\u002Fem\u003E called, since it depends on analysis that happens at build time. Preloading can improve performance by downloading assets sooner, but it can also hurt if too much is downloaded unnecessarily. By default, \u003Ccode\u003Ejs\u003C\u002Fcode\u003E and \u003Ccode\u003Ecss\u003C\u002Fcode\u003E files will be preloaded. \u003Ccode\u003Easset\u003C\u002Fcode\u003E files are not preloaded at all currently, but we may add this later after evaluating feedback.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handle(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;string | undefined\u003E' \u003EtransformPageChunk\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' \u003Ereplace\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;old&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;new&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.filterSerializedResponseHeaders?(name: string, value: string): boolean' \u003EfilterSerializedResponseHeaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003Cdata-lsp lsp='(parameter) name: string' \u003Ename\u003C\u002Fdata-lsp\u003E) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) name: string' \u003Ename\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;x-&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.preload?(input: {&amp;#10;    type: \"font\" | \"css\" | \"js\" | \"asset\";&amp;#10;    path: string;&amp;#10;}): boolean' \u003Epreload\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) type: \"font\" | \"css\" | \"js\" | \"asset\"' \u003Etype\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) type: \"font\" | \"css\" | \"js\" | \"asset\"' \u003Etype\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E===\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;js&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E||\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean' \u003Eincludes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;\u002Fimportant\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handle: ({ event, resolve }: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}) =\u003E Promise&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;string | undefined\u003E' \u003EtransformPageChunk\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' \u003Ereplace\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;old&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;new&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.filterSerializedResponseHeaders?(name: string, value: string): boolean' \u003EfilterSerializedResponseHeaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003Cdata-lsp lsp='(parameter) name: string' \u003Ename\u003C\u002Fdata-lsp\u003E) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) name: string' \u003Ename\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;x-&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.preload?(input: {&amp;#10;    type: \"font\" | \"css\" | \"js\" | \"asset\";&amp;#10;    path: string;&amp;#10;}): boolean' \u003Epreload\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) type: \"font\" | \"css\" | \"js\" | \"asset\"' \u003Etype\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) type: \"font\" | \"css\" | \"js\" | \"asset\"' \u003Etype\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E===\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;js&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E||\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean' \u003Eincludes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;\u002Fimportant\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const response: Response' \u003Eresponse\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003ENote that \u003Ccode\u003Eresolve(...)\u003C\u002Fcode\u003E will never throw an error, it will always return a \u003Ccode\u003EPromise&lt;Response&gt;\u003C\u002Fcode\u003E with the appropriate status code. If an error is thrown elsewhere during \u003Ccode\u003Ehandle\u003C\u002Fcode\u003E, it is treated as fatal, and SvelteKit will respond with a JSON representation of the error or a fallback error page — which can be customised via \u003Ccode\u003Esrc\u002Ferror.html\u003C\u002Fcode\u003E — depending on the \u003Ccode\u003EAccept\u003C\u002Fcode\u003E header. You can read more about error handling \u003Ca href=\"errors\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"server-hooks-handlefetch\"\u003EhandleFetch\u003Ca href=\"#server-hooks-handlefetch\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis function allows you to modify (or replace) a \u003Ccode\u003Efetch\u003C\u002Fcode\u003E request that happens inside a \u003Ccode\u003Eload\u003C\u002Fcode\u003E or \u003Ccode\u003Eaction\u003C\u002Fcode\u003E function that runs on the server (or during pre-rendering).\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, your \u003Ccode\u003Eload\u003C\u002Fcode\u003E function might make a request to a public URL like \u003Ccode\u003Ehttps:\u002F\u002Fapi.yourapp.com\u003C\u002Fcode\u003E when the user performs a client-side navigation to the respective page, but during SSR it might make sense to hit the API directly (bypassing whatever proxies and load balancers sit between it and the public internet).\u003C\u002Fp\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handleFetch(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003EhandleFetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.yourapp.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F clone the original request, but change the URL\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enew\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='var Request: new (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Request' \u003ERequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' \u003Ereplace\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.yourapp.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;http:\u002F\u002Flocalhost:9999\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    );\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handleFetch: ({ request, fetch }: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;...\u003E;&amp;#10;}) =\u003E Promise&amp;lt;...\u003E' \u003EhandleFetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (({ \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.yourapp.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F clone the original request, but change the URL\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enew\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='var Request: new (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Request' \u003ERequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.replace(searchValue: string | RegExp, replaceValue: string): string (+3 overloads)' \u003Ereplace\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.yourapp.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;http:\u002F\u002Flocalhost:9999\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    );\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cstrong\u003ECredentials\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EFor same-origin requests, SvelteKit&#39;s \u003Ccode\u003Efetch\u003C\u002Fcode\u003E implementation will forward \u003Ccode\u003Ecookie\u003C\u002Fcode\u003E and \u003Ccode\u003Eauthorization\u003C\u002Fcode\u003E headers unless the \u003Ccode\u003Ecredentials\u003C\u002Fcode\u003E option is set to \u003Ccode\u003E&quot;omit&quot;\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor cross-origin requests, \u003Ccode\u003Ecookie\u003C\u002Fcode\u003E will be included if the request URL belongs to a subdomain of the app — for example if your app is on \u003Ccode\u003Emy-domain.com\u003C\u002Fcode\u003E, and your API is on \u003Ccode\u003Eapi.my-domain.com\u003C\u002Fcode\u003E, cookies will be included in the request.\u003C\u002Fp\u003E\n\u003Cp\u003EIf your app and your API are on sibling subdomains — \u003Ccode\u003Ewww.my-domain.com\u003C\u002Fcode\u003E and \u003Ccode\u003Eapi.my-domain.com\u003C\u002Fcode\u003E for example — then a cookie belonging to a common parent domain like \u003Ccode\u003Emy-domain.com\u003C\u002Fcode\u003E will \u003Cem\u003Enot\u003C\u002Fem\u003E be included, because SvelteKit has no way to know which domain the cookie belongs to. In these cases you will need to manually include the cookie using \u003Ccode\u003EhandleFetch\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handleFetch(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003EhandleFetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.my-domain.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.set(name: string, value: string): void' \u003Eset\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;cookie&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.get(name: string): string | null' \u003Eget\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;cookie&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E));\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cspan class=\"error\"\u003E\u003Cspan\u003EArgument of type 'string | null' is not assignable to parameter of type 'string'.\n  Type 'null' is not assignable to type 'string'.\u003C\u002Fspan\u003E\u003Cspan class=\"code\"\u003E2345\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"error-behind\"\u003EArgument of type 'string | null' is not assignable to parameter of type 'string'.\n  Type 'null' is not assignable to type 'string'.\u003C\u002Fspan\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handleFetch: ({ event, request, fetch }: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    request: Request;&amp;#10;    fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;...\u003E;&amp;#10;}) =\u003E Promise&amp;lt;...\u003E' \u003EhandleFetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) String.startsWith(searchString: string, position?: number | undefined): boolean' \u003EstartsWith\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;https:\u002F\u002Fapi.my-domain.com\u002F&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E)) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.set(name: string, value: string): void' \u003Eset\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;cookie&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E.request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) Request.headers: Headers' \u003Eheaders\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Headers.get(name: string): string | null' \u003Eget\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;cookie&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E));\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cspan class=\"error\"\u003E\u003Cspan\u003EArgument of type 'string | null' is not assignable to parameter of type 'string'.\n  Type 'null' is not assignable to type 'string'.\u003C\u002Fspan\u003E\u003Cspan class=\"code\"\u003E2345\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"error-behind\"\u003EArgument of type 'string | null' is not assignable to parameter of type 'string'.\n  Type 'null' is not assignable to type 'string'.\u003C\u002Fspan\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) fetch: (input: RequestInfo | URL, init?: RequestInit | undefined) =\u003E Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) request: Request' \u003Erequest\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handlefetch\"\u003EHandleFetch\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch2 id=\"shared-hooks\"\u003EShared hooks\u003Ca href=\"#shared-hooks\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EThe following can be added to \u003Ccode\u003Esrc\u002Fhooks.server.js\u003C\u002Fcode\u003E \u003Cem\u003Eand\u003C\u002Fem\u003E \u003Ccode\u003Esrc\u002Fhooks.client.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Ch3 id=\"shared-hooks-handleerror\"\u003EhandleError\u003Ca href=\"#shared-hooks-handleerror\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIf an unexpected error is thrown during loading or rendering, this function will be called with the \u003Ccode\u003Eerror\u003C\u002Fcode\u003E and the \u003Ccode\u003Eevent\u003C\u002Fcode\u003E. This allows for two things:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eyou can log the error\u003C\u002Fli\u003E\n\u003Cli\u003Eyou can generate a custom representation of the error that is safe to show to users, omitting sensitive details like messages and stack traces. The returned value becomes the value of \u003Ccode\u003E$page.error\u003C\u002Fcode\u003E. It defaults to \u003Ccode\u003E{ message: &#39;Not Found&#39; }\u003C\u002Fcode\u003E in case of a 404 (you can detect them through \u003Ccode\u003Eevent.route.id\u003C\u002Fcode\u003E being \u003Ccode\u003Enull\u003C\u002Fcode\u003E) and to \u003Ccode\u003E{ message: &#39;Internal \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&#39; }\u003C\u002Fcode\u003E for everything else. To make this type-safe, you can customize the expected shape by declaring an \u003Ccode\u003EApp.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E\u003C\u002Fcode\u003E interface (which must include \u003Ccode\u003Emessage: string\u003C\u002Fcode\u003E, to guarantee sensible fallback behavior).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe following code shows an example of typing the error shape as \u003Ccode\u003E{ message: string; errorId: string }\u003C\u002Fcode\u003E and returning it accordingly from the \u003Ccode\u003EhandleError\u003C\u002Fcode\u003E functions:\u003C\u002Fp\u003E\n\u003Cdiv class=\"code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fapp.d.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Edeclare\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='namespace global' \u003Eglobal\u003C\u002Fdata-lsp\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enamespace\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='namespace App' \u003EApp\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Einterface\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='interface App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.message: string' \u003Emessage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {};\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E*\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eas\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sentry\u002Fnode&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"crypto\"&amp;#10;import crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;crypto&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const init: (opts: any) =\u003E void' \u003Einit\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F*...*\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E})\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handleError(input: {&amp;#10;    error: unknown;&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;void | App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E\u003E' \u003EhandleError\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cspan class=\"error\"\u003E\u003Cspan\u003EType '{ message: string; errorId: string; }' is not assignable to type '\u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\n  Object literal may only specify known properties, and 'errorId' does not exist in type '\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E | Promise&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\u003C\u002Fspan\u003E\u003Cspan class=\"code\"\u003E2322\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"error-behind\"\u003EType '{ message: string; errorId: string; }' is not assignable to type '\u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\n  Object literal may only specify known properties, and 'errorId' does not exist in type '\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E | Promise&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\u003C\u002Fspan\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"crypto\"&amp;#10;import crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='function randomUUID(options?: crypto.RandomUUIDOptions | undefined): string' \u003ErandomUUID\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F example integration with https:\u002F\u002Fsentry.io\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const captureException: (error: any, opts: any) =\u003E void' \u003EcaptureException\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(property) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.message: string' \u003Emessage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;Whoops!&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  };\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E*\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eas\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sentry\u002Fnode&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"crypto\"&amp;#10;import crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;crypto&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const init: (opts: any) =\u003E void' \u003Einit\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F*...*\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E})\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handleError: ({ error, event }: {&amp;#10;    error: unknown;&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;}) =\u003E {&amp;#10;    message: string;&amp;#10;    errorId: string;&amp;#10;}' \u003EhandleError\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (({ \u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"crypto\"&amp;#10;import crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='function randomUUID(options?: crypto.RandomUUIDOptions | undefined): string' \u003ErandomUUID\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F example integration with https:\u002F\u002Fsentry.io\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fnode\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const captureException: (error: any, opts: any) =\u003E void' \u003EcaptureException\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(property) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.message: string' \u003Emessage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;Whoops!&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  };\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.client.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E*\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eas\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sentry\u002Fsvelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const init: (opts: any) =\u003E void' \u003Einit\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F*...*\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E})\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handleError(input: {&amp;#10;    error: unknown;&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;void | App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E\u003E' \u003EhandleError\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cspan class=\"error\"\u003E\u003Cspan\u003EType '{ message: string; errorId: string; }' is not assignable to type '\u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\n  Object literal may only specify known properties, and 'errorId' does not exist in type '\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E | Promise&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\u003C\u002Fspan\u003E\u003Cspan class=\"code\"\u003E2322\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"error-behind\"\u003EType '{ message: string; errorId: string; }' is not assignable to type '\u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\n  Object literal may only specify known properties, and 'errorId' does not exist in type '\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E | Promise&lt;void | \u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E&gt;'.\u003C\u002Fspan\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='var crypto: Crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Crypto.randomUUID(): string' \u003ErandomUUID\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F example integration with https:\u002F\u002Fsentry.io\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const captureException: (error: any, opts: any) =\u003E void' \u003EcaptureException\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(property) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.message: string' \u003Emessage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;Whoops!&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  };\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Fhooks.client.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E*\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eas\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sentry\u002Fsvelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const init: (opts: any) =\u003E void' \u003Einit\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F*...*\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E})\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const handleError: ({ error, event }: {&amp;#10;    error: unknown;&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;}) =\u003E {&amp;#10;    message: string;&amp;#10;    errorId: string;&amp;#10;}' \u003EhandleError\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (({ \u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='var crypto: Crypto' \u003Ecrypto\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Crypto.randomUUID(): string' \u003ErandomUUID\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F example integration with https:\u002F\u002Fsentry.io\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sentry\u002Fsvelte\"&amp;#10;import Sentry' \u003ESentry\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='const captureException: (error: any, opts: any) =\u003E void' \u003EcaptureException\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) error: unknown' \u003Eerror\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(property) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) App.\u003Ca href=\"\u002Fdocs\u002Ftypes#app-error\"\u003EError\u003C\u002Fa\u003E.message: string' \u003Emessage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;Whoops!&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003Cdata-lsp lsp='(property) errorId: string' \u003EerrorId\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  };\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) interface \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cblockquote\u003E\n\u003Cp\u003EIn \u003Ccode\u003Esrc\u002Fhooks.client.js\u003C\u002Fcode\u003E, the type of \u003Ccode\u003EhandleError\u003C\u002Fcode\u003E is \u003Ccode\u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleclienterror\"\u003EHandleClientError\u003C\u002Fa\u003E\u003C\u002Fcode\u003E instead of \u003Ccode\u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handleservererror\"\u003EHandleServerError\u003C\u002Fa\u003E\u003C\u002Fcode\u003E, and \u003Ccode\u003Eevent\u003C\u002Fcode\u003E is a \u003Ccode\u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-navigationevent\"\u003ENavigationEvent\u003C\u002Fa\u003E\u003C\u002Fcode\u003E rather than a \u003Ccode\u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EThis function is not called for \u003Cem\u003Eexpected\u003C\u002Fem\u003E errors (those thrown with the \u003Ca href=\"modules#sveltejs-kit-error\"\u003E\u003Ccode\u003Eerror\u003C\u002Fcode\u003E\u003C\u002Fa\u003E function imported from \u003Ccode\u003E@sveltejs\u002Fkit\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\n\u003Cp\u003EDuring development, if an error occurs because of a syntax error in your Svelte code, the passed in error has a \u003Ccode\u003Eframe\u003C\u002Fcode\u003E property appended highlighting the location of the error.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EMake sure that \u003Ccode\u003EhandleError\u003C\u002Fcode\u003E \u003Cem\u003Enever\u003C\u002Fem\u003E throws an error\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"further-reading\"\u003EFurther reading\u003Ca href=\"#further-reading\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flearn.svelte.dev\u002Ftutorial\u002Fhandle\"\u003ETutorial: Hooks\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",sections:[{title:"Server hooks",slug:"server-hooks",sections:[{title:"handle",slug:"server-hooks-handle"},{title:"handleFetch",slug:"server-hooks-handlefetch"}]},{title:"Shared hooks",slug:"shared-hooks",sections:[{title:"handleError",slug:"shared-hooks-handleerror"}]},{title:"Further reading",slug:"further-reading",sections:[]}]}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../_app/immutable/entry/start.bc2154d3.js"),
						import("../_app/immutable/entry/app.6b34a82d.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_duwvm8.element, {
							node_ids: [0, 2, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
