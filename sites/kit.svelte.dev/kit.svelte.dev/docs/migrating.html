<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#ff3e00" />
		<meta name="color-scheme" content="dark light" />

		<link rel="manifest" href="/manifest.json" />
		<link rel="icon" type="image/png" href="/favicon.png" />

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@sveltejs" />
		<meta name="twitter:creator" content="@sveltejs" />
		<meta name="twitter:image" content="/images/twitter-thumbnail.jpg" />
		<meta name="og:image" content="/images/twitter-thumbnail.jpg" />

		<!-- add inline style and blocking script to prevent content flash/jump -->
		<style>
			.ts-version {
				display: none;
			}
			.prefers-ts .js-version {
				display: none;
			}
			.prefers-ts .ts-version {
				display: block;
			}
			.no-js .ts-toggle {
				display: none;
			}
		</style>
		<script>
			document.getElementsByTagName('html')[0].classList.remove('no-js');
			localStorage.getItem('prefers-ts') === 'true' &&
				document.documentElement.classList.add('prefers-ts');
		</script>

		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout.4a4977ec.css" rel="stylesheet">
		<link href="../_app/immutable/assets/navigation.24972d74.css" rel="stylesheet">
		<link href="../_app/immutable/assets/SearchResults.fb8f4adf.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_layout.8f434bed.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_page.b054ce5e.css" rel="stylesheet">
		<link href="../_app/immutable/assets/hovers.7cc24a08.css" rel="stylesheet">
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-300.3782c01a.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-600.0ca25556.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/fira-mono-latin-400.8d4e0c52.woff2" crossorigin>
		<link rel="modulepreload" href="../_app/immutable/entry/start.bc2154d3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.1cc2e0ff.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.3ca5ba59.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.8c4e863e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.e7f5239e.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.6b34a82d.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.svelte.c9a87e1c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.c28f0607.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/navigation.ad4a0c68.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/SearchResults.ee33e9c4.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.js.984db11e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-layout.svelte.7d27cb05.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-_slug_-page.svelte.42d084fc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/hovers.010bb342.js"><title>Migrating from Sapper • Docs • SvelteKit</title><!-- HEAD_svelte-18gm73m_START --><meta name="twitter:title" content="SvelteKit docs"><meta name="twitter:description" content="Migrating from Sapper • SvelteKit documentation"><meta name="Description" content="Migrating from Sapper • SvelteKit documentation"><!-- HEAD_svelte-18gm73m_END -->
	</head>
	<body>
		<div>


<div style="display: none">
	<svg><symbol id="arrow-left" class="icon" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></symbol><symbol id="arrow-right" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></symbol><symbol id="arrow-up" class="icon" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></symbol><symbol id="arrow-down" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></symbol><symbol id="check" class="icon" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol><symbol id="close" class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol><symbol id="download" class="icon" viewBox="0 0 24 24"><path d="M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></symbol><symbol id="edit" class="icon" viewBox="0 0 24 24"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></symbol><symbol id="github" class="icon" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5229 6.47715 22 12 22C17.5229 22 22 17.5229 22 12C22 6.47715 17.5229 2 12 2ZM0 12C0 5.3726 5.3726 0 12 0C18.6274 0 24 5.3726 24 12C24 18.6274 18.6274 24 12 24C5.3726 24 0 18.6274 0 12Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.59162 22.7357C9.49492 22.6109 9.49492 21.4986 9.59162 19.399C8.55572 19.4347 7.90122 19.3628 7.62812 19.1833C7.21852 18.9139 6.80842 18.0833 6.44457 17.4979C6.08072 16.9125 5.27312 16.8199 4.94702 16.6891C4.62091 16.5582 4.53905 16.0247 5.84562 16.4282C7.15222 16.8316 7.21592 17.9303 7.62812 18.1872C8.04032 18.4441 9.02572 18.3317 9.47242 18.1259C9.91907 17.9201 9.88622 17.1538 9.96587 16.8503C10.0666 16.5669 9.71162 16.5041 9.70382 16.5018C9.26777 16.5018 6.97697 16.0036 6.34772 13.7852C5.71852 11.5669 6.52907 10.117 6.96147 9.49369C7.24972 9.07814 7.22422 8.19254 6.88497 6.83679C8.11677 6.67939 9.06732 7.06709 9.73672 7.99999C9.73737 8.00534 10.6143 7.47854 12.0001 7.47854C13.386 7.47854 13.8777 7.90764 14.2571 7.99999C14.6365 8.09234 14.94 6.36699 17.2834 6.83679C16.7942 7.79839 16.3844 8.99999 16.6972 9.49369C17.0099 9.98739 18.2372 11.5573 17.4833 13.7852C16.9807 15.2706 15.9927 16.1761 14.5192 16.5018C14.3502 16.5557 14.2658 16.6427 14.2658 16.7627C14.2658 16.9427 14.4942 16.9624 14.8233 17.8058C15.0426 18.368 15.0585 19.9739 14.8708 22.6234C14.3953 22.7445 14.0254 22.8257 13.7611 22.8673C13.2924 22.9409 12.7835 22.9822 12.2834 22.9982C11.7834 23.0141 11.6098 23.0123 10.9185 22.948C10.4577 22.9051 10.0154 22.8343 9.59162 22.7357Z" fill="currentColor" stroke="none"></path></symbol><symbol id="git-branch" class="icon" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></symbol><symbol id="log-in" class="icon" viewBox="0 0 24 24"><path d="M15 3H19A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H15"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></symbol><symbol id="maximize" class="icon" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></symbol><symbol id="maximize-2" class="icon" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></symbol><symbol id="menu" class="icon" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></symbol><symbol id="message-square" class="icon" viewBox="0 0 24 24"><g transform="translate(0, 1)"><path d="M16.5 19H11V15H18V11H22V19H19.5L18 20.5L16.5 19Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 3H18V15H8.5L6.5 17L4.5 15H2V3Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 11H9" stroke="white" stroke-width="1.5" stroke-linecap="round"></path><path d="M6 7H12" stroke="white" stroke-width="1.5" stroke-linecap="round"></path></g></symbol><symbol id="minus" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="plus" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="save" class="icon" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></symbol><symbol id="link" class="icon" viewBox="0 0 24 24"><path d="M9,7L6,7A2 2 0 0 0 6,17L9,17"></path><path d="M15,7L18,7A2 2 0 0 1 18,17L15,17"></path><path d="M7,12L17,12"></path></symbol><symbol id="chevron" class="icon" viewBox="0 0 24 24"><path d="M2,7 L12,17 L20,7"></path></symbol><symbol id="delete" class="icon" viewBox="0 0 24 24"><path fill="currentColor" stroke="none" d="M22 4.2h-5.6L15 1.6c-.1-.2-.4-.4-.7-.4H9.6c-.2 0-.5.2-.6.4L7.6 4.2H2c-.4 0-.8.4-.8.8s.4.8.8.8h1.8V22c0 .4.3.8.8.8h15c.4 0 .8-.3.8-.8V5.8H22c.4 0 .8-.3.8-.8s-.4-.8-.8-.8zM10.8 16.5c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5zm4 0c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5z"></path></symbol></svg></div>



<a href="#main" class="svelte-1rscj97">Skip to main content</a>





<nav aria-label="Primary" class="svelte-173nfcg visible"><a href="/" class="nav-spot home svelte-173nfcg" title="Homepage" style="background-image: url(/_app/immutable/assets/svelte-logo.5c5d7d20.svg)">Home</a>

	<button aria-label="Toggle menu" aria-expanded="false" class="menu-toggle svelte-173nfcg">


<svg class="icon svelte-5yec89" width="1em" height="1em"><use xlink:href="#menu"></use></svg></button>

	<ul class="svelte-173nfcg">
			<li class="svelte-tdqbhp"><form class="search-container svelte-9kfram" action="/search"><input value="" type="search" name="q" placeholder="Search" aria-label="Search" spellcheck="false" class="svelte-9kfram">

	
</form></li></ul>

	<ul class="external svelte-173nfcg"><li><a aria-current="true" href="/docs" class="svelte-1iex17r">Docs</a></li>
		<li><a href="/faq" class="svelte-1iex17r">FAQ</a></li>

		<li aria-hidden="true" class="svelte-tdqbhp"><span class="separator svelte-tdqbhp"></span></li>

		<li><a href="https://svelte.dev" rel="external" class="svelte-1iex17r">Svelte</a></li>

		<li><a href="https://svelte.dev/chat" title="Discord Chat" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">Discord</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#message-square"></use></svg></span></a></li>

		<li><a href="https://github.com/sveltejs/kit" title="GitHub Repo" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">GitHub</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#github"></use></svg></span></a></li>
	</ul>
</nav>

<main id="main" class="svelte-tdqbhp" style="--banner-footer-height: 48px;"><div class="container svelte-1rc2dnd"><div class="page svelte-1rc2dnd">

<div class="text content svelte-zelrq3"><h1>Migrating from Sapper</h1>

	<a class="edit svelte-zelrq3" href="https://github.com/sveltejs/kit/edit/master/documentation/docs/60-appendix/10-migrating.md">


<svg class="icon svelte-5yec89" width="50" height="50"><use xlink:href="#edit"></use></svg> Edit this page on GitHub
	</a>

	<section><!-- HTML_TAG_START --><p>SvelteKit is the successor to Sapper and shares many elements of its design.</p>
<p>If you have an existing Sapper app that you plan to migrate to SvelteKit, there are a number of changes you will need to make. You may find it helpful to view <a href="additional-resources#examples">some examples</a> while migrating.</p>
<h2 id="package-json">package.json<a href="#package-json" class="permalink"><span class="visually-hidden">permalink</span></a></h2><h3 id="package-json-type-module">type: &quot;module&quot;<a href="#package-json-type-module" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Add <code>&quot;type&quot;: &quot;module&quot;</code> to your <code>package.json</code>. You can do this step separately from the rest as part of an incremental migration if you are using Sapper 0.29.3
or newer.</p>
<h3 id="package-json-dependencies">dependencies<a href="#package-json-dependencies" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Remove <code>polka</code> or <code>express</code>, if you&#39;re using one of those, and any middleware such as <code>sirv</code> or <code>compression</code>.</p>
<h3 id="package-json-devdependencies">devDependencies<a href="#package-json-devdependencies" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Remove <code>sapper</code> from your <code>devDependencies</code> and replace it with <code>@sveltejs/kit</code> and whichever <a href="adapters">adapter</a> you plan to use (see <a href="migrating#project-files-configuration">next section</a>).</p>
<h3 id="package-json-scripts">scripts<a href="#package-json-scripts" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Any scripts that reference <code>sapper</code> should be updated:</p>
<ul>
<li><code>sapper build</code> should become <code>vite build</code> using the Node <a href="adapters">adapter</a></li>
<li><code>sapper export</code> should become <code>vite build</code> using the static <a href="adapters">adapter</a></li>
<li><code>sapper dev</code> should become <code>vite dev</code></li>
<li><code>node __sapper__/build</code> should become <code>node build</code></li>
</ul>
<h2 id="project-files">Project files<a href="#project-files" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>The bulk of your app, in <code>src/routes</code>, can be left where it is, but several project files will need to be moved or updated.</p>
<h3 id="project-files-configuration">Configuration<a href="#project-files-configuration" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Your <code>webpack.config.js</code> or <code>rollup.config.js</code> should be replaced with a <code>svelte.config.js</code>, as documented <a href="configuration">here</a>. Svelte preprocessor options should be moved to <code>config.preprocess</code>.</p>
<p>You will need to add an <a href="adapters">adapter</a>. <code>sapper build</code> is roughly equivalent to <a href="https://github.com/sveltejs/kit/tree/master/packages/adapter-node">adapter-node</a> while <code>sapper export</code> is roughly equivalent to <a href="https://github.com/sveltejs/kit/tree/master/packages/adapter-static">adapter-static</a>, though you might prefer to use an adapter designed for the platform you&#39;re deploying to.</p>
<p>If you were using plugins for filetypes that are not automatically handled by <a href="https://vitejs.dev">Vite</a>, you will need to find Vite equivalents and add them to the <a href="project-structure#project-files-vite-config-js">Vite config</a>.</p>
<h3 id="project-files-src-client-js">src/client.js<a href="#project-files-src-client-js" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This file has no equivalent in SvelteKit. Any custom logic (beyond <code>sapper.start(...)</code>) should be expressed in your <code>+layout.svelte</code> file, inside an <code>onMount</code> callback.</p>
<h3 id="project-files-src-server-js">src/server.js<a href="#project-files-src-server-js" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>When using <code>adapter-node</code> the equivalent is a <a href="/docs/adapter-node#custom-server">custom server</a>. Otherwise, this file has no direct equivalent, since SvelteKit apps can run in serverless environments.</p>
<h3 id="project-files-src-service-worker-js">src/service-worker.js<a href="#project-files-src-service-worker-js" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Most imports from <code>@sapper/service-worker</code> have equivalents in <a href="modules#$service-worker"><code>$service-worker</code></a>:</p>
<ul>
<li><code>files</code> is unchanged</li>
<li><code>routes</code> has been removed</li>
<li><code>shell</code> is now <code>build</code></li>
<li><code>timestamp</code> is now <code>version</code></li>
</ul>
<h3 id="project-files-src-template-html">src/template.html<a href="#project-files-src-template-html" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>The <code>src/template.html</code> file should be renamed <code>src/app.html</code>.</p>
<p>Remove <code>%sapper.base%</code>, <code>%sapper.scripts%</code> and <code>%sapper.styles%</code>. Replace <code>%sapper.head%</code> with <code>%sveltekit.head%</code> and <code>%sapper.html%</code> with <code>%sveltekit.body%</code>. The <code>&lt;div id=&quot;sapper&quot;&gt;</code> is no longer necessary.</p>
<h3 id="project-files-src-node-modules">src/node_modules<a href="#project-files-src-node-modules" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>A common pattern in Sapper apps is to put your internal library in a directory inside <code>src/node_modules</code>. This doesn&#39;t work with Vite, so we use <a href="modules#$lib"><code>src/lib</code></a> instead.</p>
<h2 id="pages-and-layouts">Pages and layouts<a href="#pages-and-layouts" class="permalink"><span class="visually-hidden">permalink</span></a></h2><h3 id="pages-and-layouts-renamed-files">Renamed files<a href="#pages-and-layouts-renamed-files" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Routes now are made up of the folder name exclusively to remove ambiguity, the folder names leading up to a <code>+page.svelte</code> correspond to the route. See <a href="routing">the routing docs</a> for an overview. The following shows a old/new comparison:</p>
<table>
<thead>
<tr>
<th>Old</th>
<th>New</th>
</tr>
</thead>
<tbody><tr>
<td>routes/about/index.svelte</td>
<td>routes/about/+page.svelte</td>
</tr>
<tr>
<td>routes/about.svelte</td>
<td>routes/about/+page.svelte</td>
</tr>
</tbody></table>
<p>Your custom error page component should be renamed from <code>_error.svelte</code> to <code>+error.svelte</code>. Any <code>_layout.svelte</code> files should likewise be renamed <code>+layout.svelte</code>. <a href="routing#other-files">Any other files are ignored</a>.</p>
<h3 id="pages-and-layouts-imports">Imports<a href="#pages-and-layouts-imports" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>The <code>goto</code>, <code>prefetch</code> and <code>prefetchRoutes</code> imports from <code>@sapper/app</code> should be replaced with <code>goto</code>, <code>preloadData</code> and <code>preloadCode</code> imports respectively from <a href="modules#$app-navigation"><code>$app/navigation</code></a>.</p>
<p>The <code>stores</code> import from <code>@sapper/app</code> should be replaced — see the <a href="migrating#pages-and-layouts-stores">Stores</a> section below.</p>
<p>Any files you previously imported from directories in <code>src/node_modules</code> will need to be replaced with <a href="modules#$lib"><code>$lib</code></a> imports.</p>
<h3 id="pages-and-layouts-preload">Preload<a href="#pages-and-layouts-preload" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>As before, pages and layouts can export a function that allows data to be loaded before rendering takes place.</p>
<p>This function has been renamed from <code>preload</code> to <a href="load"><code>load</code></a>, it now lives in a <code>+page.js</code> (or <code>+layout.js</code>) next to its <code>+page.svelte</code> (or <code>+layout.svelte</code>), and its API has changed. Instead of two arguments — <code>page</code> and <code>session</code> — there is a single <code>event</code> argument.</p>
<p>There is no more <code>this</code> object, and consequently no <code>this.fetch</code>, <code>this.error</code> or <code>this.redirect</code>. Instead, you can get <a href="load#making-fetch-requests"><code>fetch</code></a> from the input methods, and both <a href="load#errors"><code>error</code></a> and <a href="load#redirects"><code>redirect</code></a> are now thrown.</p>
<h3 id="pages-and-layouts-stores">Stores<a href="#pages-and-layouts-stores" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>In Sapper, you would get references to provided stores like so:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) module "@sapper/app"&amp;#10;import stores' >stores</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sapper/app&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const preloading: any' >preloading</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const page: any' >page</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const session: any' >session</data-lsp></span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) module "@sapper/app"&amp;#10;import stores' >stores</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div></code></div></pre><p>The <code>page</code> store still exists; <code>preloading</code> has been replaced with a <code>navigating</code> store that contains <code>from</code> and <code>to</code> properties. <code>page</code> now has <code>url</code> and <code>params</code> properties, but no <code>path</code> or <code>query</code>.</p>
<p>You access them differently in SvelteKit. <code>stores</code> is now <code>getStores</code>, but in most cases it is unnecessary since you can import <code>navigating</code>, and <code>page</code> directly from <a href="modules#$app-stores"><code>$app/stores</code></a>.</p>
<h3 id="pages-and-layouts-routing">Routing<a href="#pages-and-layouts-routing" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Regex routes are no longer supported. Instead, use <a href="advanced-routing#matching">advanced route matching</a>.</p>
<h3 id="pages-and-layouts-segments">Segments<a href="#pages-and-layouts-segments" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Previously, layout components received a <code>segment</code> prop indicating the child segment. This has been removed; you should use the more flexible <code>$page.url.pathname</code> value to derive the segment you&#39;re interested in.</p>
<h3 id="pages-and-layouts-urls">URLs<a href="#pages-and-layouts-urls" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>In Sapper, all relative URLs were resolved against the base URL — usually <code>/</code>, unless the <code>basepath</code> option was used — rather than against the current page.</p>
<p>This caused problems and is no longer the case in SvelteKit. Instead, relative URLs are resolved against the current page (or the destination page, for <code>fetch</code> URLs in <code>load</code> functions) instead. In most cases, it&#39;s easier to use root-relative (i.e. starts with <code>/</code>) URLs, since their meaning is not context-dependent.</p>
<h3 id="pages-and-layouts-a-attributes">&lt;a&gt; attributes<a href="#pages-and-layouts-a-attributes" class="permalink"><span class="visually-hidden">permalink</span></a></h3><ul>
<li><code>sapper:prefetch</code> is now <code>data-sveltekit-preload-data</code></li>
<li><code>sapper:noscroll</code> is now <code>data-sveltekit-noscroll</code></li>
</ul>
<h2 id="endpoints">Endpoints<a href="#endpoints" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>In Sapper, <a href="routing#server">server routes</a> received the <code>req</code> and <code>res</code> objects exposed by Node&#39;s <code>http</code> module (or the augmented versions provided by frameworks like Polka and Express).</p>
<p>SvelteKit is designed to be agnostic as to where the app is running — it could be running on a Node server, but could equally be running on a serverless platform or in a Cloudflare Worker. For that reason, you no longer interact directly with <code>req</code> and <code>res</code>. Your endpoints will need to be updated to match the new signature.</p>
<p>To support this environment-agnostic behavior, <code>fetch</code> is now available in the global context, so you don&#39;t need to import <code>node-fetch</code>, <code>cross-fetch</code>, or similar server-side fetch implementations in order to use it.</p>
<h2 id="integrations">Integrations<a href="#integrations" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>See <a href="/faq#integrations">the FAQ</a> for detailed information about integrations.</p>
<h3 id="integrations-html-minifier">HTML minifier<a href="#integrations-html-minifier" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Sapper includes <code>html-minifier</code> by default. SvelteKit does not include this, but you can add it as a prod dependency and then use it through a <a href="hooks#server-hooks-handle">hook</a>:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) module "html-minifier"&amp;#10;import minify' >minify</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;html-minifier&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) const building: boolean&amp;#10;import building' >building</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;$app/environment&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const minification_options: {&amp;#10;    collapseBooleanAttributes: boolean;&amp;#10;    collapseWhitespace: boolean;&amp;#10;    conservativeCollapse: boolean;&amp;#10;    decodeEntities: boolean;&amp;#10;    html5: boolean;&amp;#10;    ignoreCustomComments: RegExp[];&amp;#10;    minifyCSS: boolean;&amp;#10;    ... 8 more ...;&amp;#10;    sortClassName: boolean;&amp;#10;}' >minification_options</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) collapseBooleanAttributes: boolean' >collapseBooleanAttributes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) collapseWhitespace: boolean' >collapseWhitespace</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) conservativeCollapse: boolean' >conservativeCollapse</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) decodeEntities: boolean' >decodeEntities</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) html5: boolean' >html5</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) ignoreCustomComments: RegExp[]' >ignoreCustomComments</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">/</span><span style="color: var(--shiki-token-keyword)">^</span><span style="color: var(--shiki-token-string-expression)">#/</span><span style="color: var(--shiki-color-text)">]</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) minifyCSS: boolean' >minifyCSS</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) minifyJS: boolean' >minifyJS</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">false</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeAttributeQuotes: boolean' >removeAttributeQuotes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeComments: boolean' >removeComments</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">false</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-comment)">// some hydration code needs comments, so leave them in</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeOptionalTags: boolean' >removeOptionalTags</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeRedundantAttributes: boolean' >removeRedundantAttributes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeScriptTypeAttributes: boolean' >removeScriptTypeAttributes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) removeStyleLinkTypeAttributes: boolean' >removeStyleLinkTypeAttributes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) sortAttributes: boolean' >sortAttributes</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) sortClassName: boolean' >sortClassName</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;@sveltejs/kit&apos;).<a href="/docs/types#public-types-handle">Handle</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function handle(input: {&amp;#10;    event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>;&amp;#10;    resolve(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;...>' >handle</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='let page: string' >page</data-lsp> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) resolve: (event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>, opts?: <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a> | undefined) => <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >resolve</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;Partial&amp;lt;Record&amp;lt;string, string>>, string | null>' >event</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(method) <a href="/docs/types#public-types-resolveoptions">ResolveOptions</a>.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;string | undefined>' >transformPageChunk</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> ({ <data-lsp lsp='(parameter) html: string' >html</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) done: boolean' >done</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">      <data-lsp lsp='let page: string' >page</data-lsp> </span><span style="color: var(--shiki-token-keyword)">+=</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) html: string' >html</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (<data-lsp lsp='(parameter) done: boolean' >done</data-lsp>) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) const building: boolean&amp;#10;import building' >building</data-lsp> </span><span style="color: var(--shiki-token-keyword)">?</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) module "html-minifier"&amp;#10;import minify' >minify</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='let page: string' >page</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const minification_options: {&amp;#10;    collapseBooleanAttributes: boolean;&amp;#10;    collapseWhitespace: boolean;&amp;#10;    conservativeCollapse: boolean;&amp;#10;    decodeEntities: boolean;&amp;#10;    html5: boolean;&amp;#10;    ignoreCustomComments: RegExp[];&amp;#10;    minifyCSS: boolean;&amp;#10;    ... 8 more ...;&amp;#10;    sortClassName: boolean;&amp;#10;}' >minification_options</data-lsp>) </span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='let page: string' >page</data-lsp>;</span></div><div class='line'><span style="color: var(--shiki-color-text)">      }</span></div><div class='line'><span style="color: var(--shiki-color-text)">    }</span></div><div class='line'><span style="color: var(--shiki-color-text)">  });</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre><p>Note that <code>prerendering</code> is <code>false</code> when using <code>vite preview</code> to test the production build of the site, so to verify the results of minifying, you&#39;ll need to inspect the built HTML files directly.</p>
<!-- HTML_TAG_END --></section>

	<div class="controls svelte-zelrq3"><div class="svelte-zelrq3"><span class="svelte-zelrq3">previous</span>
			<a href="/docs/integrations">Integrations</a></div>

		<div class="svelte-zelrq3"><span class="svelte-zelrq3">next</span>
			<a href="/docs/additional-resources">Additional resources</a></div></div></div>



<aside class="on-this-page svelte-tsiaal"><h2 class="svelte-tsiaal">On this page</h2>
	<nav><ul class="svelte-tsiaal"><li><a href="/docs/migrating" class="svelte-tsiaal active">Migrating from Sapper</a></li>
			<li><a href="#package-json" class="svelte-tsiaal">package.json</a></li><li><a href="#project-files" class="svelte-tsiaal">Project files</a></li><li><a href="#pages-and-layouts" class="svelte-tsiaal">Pages and layouts</a></li><li><a href="#endpoints" class="svelte-tsiaal">Endpoints</a></li><li><a href="#integrations" class="svelte-tsiaal">Integrations</a></li></ul></nav>
</aside></div>

	<div class="toc-container svelte-1rc2dnd"><nav aria-label="Docs" class="svelte-1izbfc5"><ul class="sidebar svelte-1izbfc5"><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Getting started</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/introduction">Introduction</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/creating-a-project">Creating a project</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/project-structure">Project structure</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/web-standards">Web standards</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Core concepts</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/routing">Routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/load">Loading data</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/form-actions">Form actions</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/page-options">Page options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/state-management">State management</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Build and deploy</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/building-your-app">Building your app</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapters">Adapters</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-auto">Zero-config deployments</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-node">Node servers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-static">Static site generation</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/single-page-apps">Single-page apps</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare">Cloudflare Pages</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare-workers">Cloudflare Workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-netlify">Netlify</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-vercel">Vercel</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/writing-adapters">Writing adapters</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Advanced</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/advanced-routing">Advanced routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/hooks">Hooks</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/errors">Errors</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/link-options">Link options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/service-workers">Service workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/server-only-modules">Server-only modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/assets">Asset handling</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/snapshots">Snapshots</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/packaging">Packaging</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Best practices</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/accessibility">Accessibility</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/seo">SEO</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Reference</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/configuration">Configuration</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/cli">Command Line Interface</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/modules">Modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/types">Types</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Appendix</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/integrations">Integrations</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5 active" href="/docs/migrating">Migrating from Sapper</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/additional-resources">Additional resources</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/glossary">Glossary</a>
						</li></ul>
			</li></ul>
</nav></div>

	<div class="ts-toggle svelte-1rc2dnd"><div class="input-output-toggle svelte-1ev6lam"><span aria-hidden="true">JavaScript</span> <button aria-pressed="false" class="svelte-1c3yzdv"><span class="visually-hidden">TypeScript code examples</span>
</button> <span aria-hidden="true">TypeScript</span>
</div></div>
</div></main>

<div class="banner svelte-tdqbhp" style="--banner-footer-height: 48px;"><a target="_blank" rel="noopener noreferrer" href="https://hack.sveltesociety.dev/"><span class="small svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Participate →
			</span>
			<span class="large svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Our first hackathon with over $12,000 in prizes →
			</span></a>
		<button class="svelte-tdqbhp">✕ </button></div>




			
			<script>
				{
					__sveltekit_duwvm8 = {
						env: {},
						base: new URL("..", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,{"type":"data","data":{sections:[{title:"Getting started",pages:[{title:"Introduction",path:"\u002Fdocs\u002Fintroduction"},{title:"Creating a project",path:"\u002Fdocs\u002Fcreating-a-project"},{title:"Project structure",path:"\u002Fdocs\u002Fproject-structure"},{title:"Web standards",path:"\u002Fdocs\u002Fweb-standards"}]},{title:"Core concepts",pages:[{title:"Routing",path:"\u002Fdocs\u002Frouting"},{title:"Loading data",path:"\u002Fdocs\u002Fload"},{title:"Form actions",path:"\u002Fdocs\u002Fform-actions"},{title:"Page options",path:"\u002Fdocs\u002Fpage-options"},{title:"State management",path:"\u002Fdocs\u002Fstate-management"}]},{title:"Build and deploy",pages:[{title:"Building your app",path:"\u002Fdocs\u002Fbuilding-your-app"},{title:"Adapters",path:"\u002Fdocs\u002Fadapters"},{title:"Zero-config deployments",path:"\u002Fdocs\u002Fadapter-auto"},{title:"Node servers",path:"\u002Fdocs\u002Fadapter-node"},{title:"Static site generation",path:"\u002Fdocs\u002Fadapter-static"},{title:"Single-page apps",path:"\u002Fdocs\u002Fsingle-page-apps"},{title:"Cloudflare Pages",path:"\u002Fdocs\u002Fadapter-cloudflare"},{title:"Cloudflare Workers",path:"\u002Fdocs\u002Fadapter-cloudflare-workers"},{title:"Netlify",path:"\u002Fdocs\u002Fadapter-netlify"},{title:"Vercel",path:"\u002Fdocs\u002Fadapter-vercel"},{title:"Writing adapters",path:"\u002Fdocs\u002Fwriting-adapters"}]},{title:"Advanced",pages:[{title:"Advanced routing",path:"\u002Fdocs\u002Fadvanced-routing"},{title:"Hooks",path:"\u002Fdocs\u002Fhooks"},{title:"Errors",path:"\u002Fdocs\u002Ferrors"},{title:"Link options",path:"\u002Fdocs\u002Flink-options"},{title:"Service workers",path:"\u002Fdocs\u002Fservice-workers"},{title:"Server-only modules",path:"\u002Fdocs\u002Fserver-only-modules"},{title:"Asset handling",path:"\u002Fdocs\u002Fassets"},{title:"Snapshots",path:"\u002Fdocs\u002Fsnapshots"},{title:"Packaging",path:"\u002Fdocs\u002Fpackaging"}]},{title:"Best practices",pages:[{title:"Accessibility",path:"\u002Fdocs\u002Faccessibility"},{title:"SEO",path:"\u002Fdocs\u002Fseo"}]},{title:"Reference",pages:[{title:"Configuration",path:"\u002Fdocs\u002Fconfiguration"},{title:"Command Line Interface",path:"\u002Fdocs\u002Fcli"},{title:"Modules",path:"\u002Fdocs\u002Fmodules"},{title:"Types",path:"\u002Fdocs\u002Ftypes"}]},{title:"Appendix",pages:[{title:"Integrations",path:"\u002Fdocs\u002Fintegrations"},{title:"Migrating from Sapper",path:"\u002Fdocs\u002Fmigrating"},{title:"Additional resources",path:"\u002Fdocs\u002Fadditional-resources"},{title:"Glossary",path:"\u002Fdocs\u002Fglossary"}]}]},"uses":{}},{"type":"data","data":{page:{file:"docs\u002F60-appendix\u002F10-migrating.md",slug:"migrating",title:"Migrating from Sapper",content:"\u003Cp\u003ESvelteKit is the successor to Sapper and shares many elements of its design.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you have an existing Sapper app that you plan to migrate to SvelteKit, there are a number of changes you will need to make. You may find it helpful to view \u003Ca href=\"additional-resources#examples\"\u003Esome examples\u003C\u002Fa\u003E while migrating.\u003C\u002Fp\u003E\n\u003Ch2 id=\"package-json\"\u003Epackage.json\u003Ca href=\"#package-json\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Ch3 id=\"package-json-type-module\"\u003Etype: &quot;module&quot;\u003Ca href=\"#package-json-type-module\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAdd \u003Ccode\u003E&quot;type&quot;: &quot;module&quot;\u003C\u002Fcode\u003E to your \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E. You can do this step separately from the rest as part of an incremental migration if you are using Sapper 0.29.3\nor newer.\u003C\u002Fp\u003E\n\u003Ch3 id=\"package-json-dependencies\"\u003Edependencies\u003Ca href=\"#package-json-dependencies\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ERemove \u003Ccode\u003Epolka\u003C\u002Fcode\u003E or \u003Ccode\u003Eexpress\u003C\u002Fcode\u003E, if you&#39;re using one of those, and any middleware such as \u003Ccode\u003Esirv\u003C\u002Fcode\u003E or \u003Ccode\u003Ecompression\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"package-json-devdependencies\"\u003EdevDependencies\u003Ca href=\"#package-json-devdependencies\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ERemove \u003Ccode\u003Esapper\u003C\u002Fcode\u003E from your \u003Ccode\u003EdevDependencies\u003C\u002Fcode\u003E and replace it with \u003Ccode\u003E@sveltejs\u002Fkit\u003C\u002Fcode\u003E and whichever \u003Ca href=\"adapters\"\u003Eadapter\u003C\u002Fa\u003E you plan to use (see \u003Ca href=\"migrating#project-files-configuration\"\u003Enext section\u003C\u002Fa\u003E).\u003C\u002Fp\u003E\n\u003Ch3 id=\"package-json-scripts\"\u003Escripts\u003Ca href=\"#package-json-scripts\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAny scripts that reference \u003Ccode\u003Esapper\u003C\u002Fcode\u003E should be updated:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Esapper build\u003C\u002Fcode\u003E should become \u003Ccode\u003Evite build\u003C\u002Fcode\u003E using the Node \u003Ca href=\"adapters\"\u003Eadapter\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Esapper export\u003C\u002Fcode\u003E should become \u003Ccode\u003Evite build\u003C\u002Fcode\u003E using the static \u003Ca href=\"adapters\"\u003Eadapter\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Esapper dev\u003C\u002Fcode\u003E should become \u003Ccode\u003Evite dev\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enode __sapper__\u002Fbuild\u003C\u002Fcode\u003E should become \u003Ccode\u003Enode build\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"project-files\"\u003EProject files\u003Ca href=\"#project-files\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EThe bulk of your app, in \u003Ccode\u003Esrc\u002Froutes\u003C\u002Fcode\u003E, can be left where it is, but several project files will need to be moved or updated.\u003C\u002Fp\u003E\n\u003Ch3 id=\"project-files-configuration\"\u003EConfiguration\u003Ca href=\"#project-files-configuration\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EYour \u003Ccode\u003Ewebpack.config.js\u003C\u002Fcode\u003E or \u003Ccode\u003Erollup.config.js\u003C\u002Fcode\u003E should be replaced with a \u003Ccode\u003Esvelte.config.js\u003C\u002Fcode\u003E, as documented \u003Ca href=\"configuration\"\u003Ehere\u003C\u002Fa\u003E. Svelte preprocessor options should be moved to \u003Ccode\u003Econfig.preprocess\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EYou will need to add an \u003Ca href=\"adapters\"\u003Eadapter\u003C\u002Fa\u003E. \u003Ccode\u003Esapper build\u003C\u002Fcode\u003E is roughly equivalent to \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fkit\u002Ftree\u002Fmaster\u002Fpackages\u002Fadapter-node\"\u003Eadapter-node\u003C\u002Fa\u003E while \u003Ccode\u003Esapper export\u003C\u002Fcode\u003E is roughly equivalent to \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fkit\u002Ftree\u002Fmaster\u002Fpackages\u002Fadapter-static\"\u003Eadapter-static\u003C\u002Fa\u003E, though you might prefer to use an adapter designed for the platform you&#39;re deploying to.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you were using plugins for filetypes that are not automatically handled by \u003Ca href=\"https:\u002F\u002Fvitejs.dev\"\u003EVite\u003C\u002Fa\u003E, you will need to find Vite equivalents and add them to the \u003Ca href=\"project-structure#project-files-vite-config-js\"\u003EVite config\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"project-files-src-client-js\"\u003Esrc\u002Fclient.js\u003Ca href=\"#project-files-src-client-js\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis file has no equivalent in SvelteKit. Any custom logic (beyond \u003Ccode\u003Esapper.start(...)\u003C\u002Fcode\u003E) should be expressed in your \u003Ccode\u003E+layout.svelte\u003C\u002Fcode\u003E file, inside an \u003Ccode\u003EonMount\u003C\u002Fcode\u003E callback.\u003C\u002Fp\u003E\n\u003Ch3 id=\"project-files-src-server-js\"\u003Esrc\u002Fserver.js\u003Ca href=\"#project-files-src-server-js\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EWhen using \u003Ccode\u003Eadapter-node\u003C\u002Fcode\u003E the equivalent is a \u003Ca href=\"\u002Fdocs\u002Fadapter-node#custom-server\"\u003Ecustom server\u003C\u002Fa\u003E. Otherwise, this file has no direct equivalent, since SvelteKit apps can run in serverless environments.\u003C\u002Fp\u003E\n\u003Ch3 id=\"project-files-src-service-worker-js\"\u003Esrc\u002Fservice-worker.js\u003Ca href=\"#project-files-src-service-worker-js\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EMost imports from \u003Ccode\u003E@sapper\u002Fservice-worker\u003C\u002Fcode\u003E have equivalents in \u003Ca href=\"modules#$service-worker\"\u003E\u003Ccode\u003E$service-worker\u003C\u002Fcode\u003E\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Efiles\u003C\u002Fcode\u003E is unchanged\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eroutes\u003C\u002Fcode\u003E has been removed\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Eshell\u003C\u002Fcode\u003E is now \u003Ccode\u003Ebuild\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Etimestamp\u003C\u002Fcode\u003E is now \u003Ccode\u003Eversion\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"project-files-src-template-html\"\u003Esrc\u002Ftemplate.html\u003Ca href=\"#project-files-src-template-html\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe \u003Ccode\u003Esrc\u002Ftemplate.html\u003C\u002Fcode\u003E file should be renamed \u003Ccode\u003Esrc\u002Fapp.html\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ERemove \u003Ccode\u003E%sapper.base%\u003C\u002Fcode\u003E, \u003Ccode\u003E%sapper.scripts%\u003C\u002Fcode\u003E and \u003Ccode\u003E%sapper.styles%\u003C\u002Fcode\u003E. Replace \u003Ccode\u003E%sapper.head%\u003C\u002Fcode\u003E with \u003Ccode\u003E%sveltekit.head%\u003C\u002Fcode\u003E and \u003Ccode\u003E%sapper.html%\u003C\u002Fcode\u003E with \u003Ccode\u003E%sveltekit.body%\u003C\u002Fcode\u003E. The \u003Ccode\u003E&lt;div id=&quot;sapper&quot;&gt;\u003C\u002Fcode\u003E is no longer necessary.\u003C\u002Fp\u003E\n\u003Ch3 id=\"project-files-src-node-modules\"\u003Esrc\u002Fnode_modules\u003Ca href=\"#project-files-src-node-modules\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EA common pattern in Sapper apps is to put your internal library in a directory inside \u003Ccode\u003Esrc\u002Fnode_modules\u003C\u002Fcode\u003E. This doesn&#39;t work with Vite, so we use \u003Ca href=\"modules#$lib\"\u003E\u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E\u003C\u002Fa\u003E instead.\u003C\u002Fp\u003E\n\u003Ch2 id=\"pages-and-layouts\"\u003EPages and layouts\u003Ca href=\"#pages-and-layouts\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Ch3 id=\"pages-and-layouts-renamed-files\"\u003ERenamed files\u003Ca href=\"#pages-and-layouts-renamed-files\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ERoutes now are made up of the folder name exclusively to remove ambiguity, the folder names leading up to a \u003Ccode\u003E+page.svelte\u003C\u002Fcode\u003E correspond to the route. See \u003Ca href=\"routing\"\u003Ethe routing docs\u003C\u002Fa\u003E for an overview. The following shows a old\u002Fnew comparison:\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EOld\u003C\u002Fth\u003E\n\u003Cth\u003ENew\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\u003Ctr\u003E\n\u003Ctd\u003Eroutes\u002Fabout\u002Findex.svelte\u003C\u002Ftd\u003E\n\u003Ctd\u003Eroutes\u002Fabout\u002F+page.svelte\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eroutes\u002Fabout.svelte\u003C\u002Ftd\u003E\n\u003Ctd\u003Eroutes\u002Fabout\u002F+page.svelte\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cp\u003EYour custom error page component should be renamed from \u003Ccode\u003E_error.svelte\u003C\u002Fcode\u003E to \u003Ccode\u003E+error.svelte\u003C\u002Fcode\u003E. Any \u003Ccode\u003E_layout.svelte\u003C\u002Fcode\u003E files should likewise be renamed \u003Ccode\u003E+layout.svelte\u003C\u002Fcode\u003E. \u003Ca href=\"routing#other-files\"\u003EAny other files are ignored\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-imports\"\u003EImports\u003Ca href=\"#pages-and-layouts-imports\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe \u003Ccode\u003Egoto\u003C\u002Fcode\u003E, \u003Ccode\u003Eprefetch\u003C\u002Fcode\u003E and \u003Ccode\u003EprefetchRoutes\u003C\u002Fcode\u003E imports from \u003Ccode\u003E@sapper\u002Fapp\u003C\u002Fcode\u003E should be replaced with \u003Ccode\u003Egoto\u003C\u002Fcode\u003E, \u003Ccode\u003EpreloadData\u003C\u002Fcode\u003E and \u003Ccode\u003EpreloadCode\u003C\u002Fcode\u003E imports respectively from \u003Ca href=\"modules#$app-navigation\"\u003E\u003Ccode\u003E$app\u002Fnavigation\u003C\u002Fcode\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThe \u003Ccode\u003Estores\u003C\u002Fcode\u003E import from \u003Ccode\u003E@sapper\u002Fapp\u003C\u002Fcode\u003E should be replaced — see the \u003Ca href=\"migrating#pages-and-layouts-stores\"\u003EStores\u003C\u002Fa\u003E section below.\u003C\u002Fp\u003E\n\u003Cp\u003EAny files you previously imported from directories in \u003Ccode\u003Esrc\u002Fnode_modules\u003C\u002Fcode\u003E will need to be replaced with \u003Ca href=\"modules#$lib\"\u003E\u003Ccode\u003E$lib\u003C\u002Fcode\u003E\u003C\u002Fa\u003E imports.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-preload\"\u003EPreload\u003Ca href=\"#pages-and-layouts-preload\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EAs before, pages and layouts can export a function that allows data to be loaded before rendering takes place.\u003C\u002Fp\u003E\n\u003Cp\u003EThis function has been renamed from \u003Ccode\u003Epreload\u003C\u002Fcode\u003E to \u003Ca href=\"load\"\u003E\u003Ccode\u003Eload\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, it now lives in a \u003Ccode\u003E+page.js\u003C\u002Fcode\u003E (or \u003Ccode\u003E+layout.js\u003C\u002Fcode\u003E) next to its \u003Ccode\u003E+page.svelte\u003C\u002Fcode\u003E (or \u003Ccode\u003E+layout.svelte\u003C\u002Fcode\u003E), and its API has changed. Instead of two arguments — \u003Ccode\u003Epage\u003C\u002Fcode\u003E and \u003Ccode\u003Esession\u003C\u002Fcode\u003E — there is a single \u003Ccode\u003Eevent\u003C\u002Fcode\u003E argument.\u003C\u002Fp\u003E\n\u003Cp\u003EThere is no more \u003Ccode\u003Ethis\u003C\u002Fcode\u003E object, and consequently no \u003Ccode\u003Ethis.fetch\u003C\u002Fcode\u003E, \u003Ccode\u003Ethis.error\u003C\u002Fcode\u003E or \u003Ccode\u003Ethis.redirect\u003C\u002Fcode\u003E. Instead, you can get \u003Ca href=\"load#making-fetch-requests\"\u003E\u003Ccode\u003Efetch\u003C\u002Fcode\u003E\u003C\u002Fa\u003E from the input methods, and both \u003Ca href=\"load#errors\"\u003E\u003Ccode\u003Eerror\u003C\u002Fcode\u003E\u003C\u002Fa\u003E and \u003Ca href=\"load#redirects\"\u003E\u003Ccode\u003Eredirect\u003C\u002Fcode\u003E\u003C\u002Fa\u003E are now thrown.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-stores\"\u003EStores\u003Ca href=\"#pages-and-layouts-stores\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIn Sapper, you would get references to provided stores like so:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) module \"@sapper\u002Fapp\"&amp;#10;import stores' \u003Estores\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sapper\u002Fapp&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const preloading: any' \u003Epreloading\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const page: any' \u003Epage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const session: any' \u003Esession\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) module \"@sapper\u002Fapp\"&amp;#10;import stores' \u003Estores\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThe \u003Ccode\u003Epage\u003C\u002Fcode\u003E store still exists; \u003Ccode\u003Epreloading\u003C\u002Fcode\u003E has been replaced with a \u003Ccode\u003Enavigating\u003C\u002Fcode\u003E store that contains \u003Ccode\u003Efrom\u003C\u002Fcode\u003E and \u003Ccode\u003Eto\u003C\u002Fcode\u003E properties. \u003Ccode\u003Epage\u003C\u002Fcode\u003E now has \u003Ccode\u003Eurl\u003C\u002Fcode\u003E and \u003Ccode\u003Eparams\u003C\u002Fcode\u003E properties, but no \u003Ccode\u003Epath\u003C\u002Fcode\u003E or \u003Ccode\u003Equery\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EYou access them differently in SvelteKit. \u003Ccode\u003Estores\u003C\u002Fcode\u003E is now \u003Ccode\u003EgetStores\u003C\u002Fcode\u003E, but in most cases it is unnecessary since you can import \u003Ccode\u003Enavigating\u003C\u002Fcode\u003E, and \u003Ccode\u003Epage\u003C\u002Fcode\u003E directly from \u003Ca href=\"modules#$app-stores\"\u003E\u003Ccode\u003E$app\u002Fstores\u003C\u002Fcode\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-routing\"\u003ERouting\u003Ca href=\"#pages-and-layouts-routing\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ERegex routes are no longer supported. Instead, use \u003Ca href=\"advanced-routing#matching\"\u003Eadvanced route matching\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-segments\"\u003ESegments\u003Ca href=\"#pages-and-layouts-segments\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EPreviously, layout components received a \u003Ccode\u003Esegment\u003C\u002Fcode\u003E prop indicating the child segment. This has been removed; you should use the more flexible \u003Ccode\u003E$page.url.pathname\u003C\u002Fcode\u003E value to derive the segment you&#39;re interested in.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-urls\"\u003EURLs\u003Ca href=\"#pages-and-layouts-urls\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIn Sapper, all relative URLs were resolved against the base URL — usually \u003Ccode\u003E\u002F\u003C\u002Fcode\u003E, unless the \u003Ccode\u003Ebasepath\u003C\u002Fcode\u003E option was used — rather than against the current page.\u003C\u002Fp\u003E\n\u003Cp\u003EThis caused problems and is no longer the case in SvelteKit. Instead, relative URLs are resolved against the current page (or the destination page, for \u003Ccode\u003Efetch\u003C\u002Fcode\u003E URLs in \u003Ccode\u003Eload\u003C\u002Fcode\u003E functions) instead. In most cases, it&#39;s easier to use root-relative (i.e. starts with \u003Ccode\u003E\u002F\u003C\u002Fcode\u003E) URLs, since their meaning is not context-dependent.\u003C\u002Fp\u003E\n\u003Ch3 id=\"pages-and-layouts-a-attributes\"\u003E&lt;a&gt; attributes\u003Ca href=\"#pages-and-layouts-a-attributes\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Esapper:prefetch\u003C\u002Fcode\u003E is now \u003Ccode\u003Edata-sveltekit-preload-data\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Esapper:noscroll\u003C\u002Fcode\u003E is now \u003Ccode\u003Edata-sveltekit-noscroll\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"endpoints\"\u003EEndpoints\u003Ca href=\"#endpoints\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EIn Sapper, \u003Ca href=\"routing#server\"\u003Eserver routes\u003C\u002Fa\u003E received the \u003Ccode\u003Ereq\u003C\u002Fcode\u003E and \u003Ccode\u003Eres\u003C\u002Fcode\u003E objects exposed by Node&#39;s \u003Ccode\u003Ehttp\u003C\u002Fcode\u003E module (or the augmented versions provided by frameworks like Polka and Express).\u003C\u002Fp\u003E\n\u003Cp\u003ESvelteKit is designed to be agnostic as to where the app is running — it could be running on a Node server, but could equally be running on a serverless platform or in a Cloudflare Worker. For that reason, you no longer interact directly with \u003Ccode\u003Ereq\u003C\u002Fcode\u003E and \u003Ccode\u003Eres\u003C\u002Fcode\u003E. Your endpoints will need to be updated to match the new signature.\u003C\u002Fp\u003E\n\u003Cp\u003ETo support this environment-agnostic behavior, \u003Ccode\u003Efetch\u003C\u002Fcode\u003E is now available in the global context, so you don&#39;t need to import \u003Ccode\u003Enode-fetch\u003C\u002Fcode\u003E, \u003Ccode\u003Ecross-fetch\u003C\u002Fcode\u003E, or similar server-side fetch implementations in order to use it.\u003C\u002Fp\u003E\n\u003Ch2 id=\"integrations\"\u003EIntegrations\u003Ca href=\"#integrations\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003ESee \u003Ca href=\"\u002Ffaq#integrations\"\u003Ethe FAQ\u003C\u002Fa\u003E for detailed information about integrations.\u003C\u002Fp\u003E\n\u003Ch3 id=\"integrations-html-minifier\"\u003EHTML minifier\u003Ca href=\"#integrations-html-minifier\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESapper includes \u003Ccode\u003Ehtml-minifier\u003C\u002Fcode\u003E by default. SvelteKit does not include this, but you can add it as a prod dependency and then use it through a \u003Ca href=\"hooks#server-hooks-handle\"\u003Ehook\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) module \"html-minifier\"&amp;#10;import minify' \u003Eminify\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;html-minifier&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) const building: boolean&amp;#10;import building' \u003Ebuilding\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;$app\u002Fenvironment&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const minification_options: {&amp;#10;    collapseBooleanAttributes: boolean;&amp;#10;    collapseWhitespace: boolean;&amp;#10;    conservativeCollapse: boolean;&amp;#10;    decodeEntities: boolean;&amp;#10;    html5: boolean;&amp;#10;    ignoreCustomComments: RegExp[];&amp;#10;    minifyCSS: boolean;&amp;#10;    ... 8 more ...;&amp;#10;    sortClassName: boolean;&amp;#10;}' \u003Eminification_options\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) collapseBooleanAttributes: boolean' \u003EcollapseBooleanAttributes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) collapseWhitespace: boolean' \u003EcollapseWhitespace\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) conservativeCollapse: boolean' \u003EconservativeCollapse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) decodeEntities: boolean' \u003EdecodeEntities\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) html5: boolean' \u003Ehtml5\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) ignoreCustomComments: RegExp[]' \u003EignoreCustomComments\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E [\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E^\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E#\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) minifyCSS: boolean' \u003EminifyCSS\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) minifyJS: boolean' \u003EminifyJS\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeAttributeQuotes: boolean' \u003EremoveAttributeQuotes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeComments: boolean' \u003EremoveComments\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F some hydration code needs comments, so leave them in\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeOptionalTags: boolean' \u003EremoveOptionalTags\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeRedundantAttributes: boolean' \u003EremoveRedundantAttributes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeScriptTypeAttributes: boolean' \u003EremoveScriptTypeAttributes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) removeStyleLinkTypeAttributes: boolean' \u003EremoveStyleLinkTypeAttributes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) sortAttributes: boolean' \u003EsortAttributes\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) sortClassName: boolean' \u003EsortClassName\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Etrue\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E};\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;@sveltejs\u002Fkit&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-handle\"\u003EHandle\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function handle(input: {&amp;#10;    event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E;&amp;#10;    resolve(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;...\u003E' \u003Ehandle\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Elet\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='let page: string' \u003Epage\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) resolve: (event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E, opts?: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E | undefined) =\u003E \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003Eresolve\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;Partial&amp;lt;Record&amp;lt;string, string\u003E\u003E, string | null\u003E' \u003Eevent\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(method) \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-resolveoptions\"\u003EResolveOptions\u003C\u002Fa\u003E.transformPageChunk?(input: {&amp;#10;    html: string;&amp;#10;    done: boolean;&amp;#10;}): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;string | undefined\u003E' \u003EtransformPageChunk\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E ({ \u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) done: boolean' \u003Edone\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003Cdata-lsp lsp='let page: string' \u003Epage\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E+=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) html: string' \u003Ehtml\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (\u003Cdata-lsp lsp='(parameter) done: boolean' \u003Edone\u003C\u002Fdata-lsp\u003E) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E        \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) const building: boolean&amp;#10;import building' \u003Ebuilding\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E?\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) module \"html-minifier\"&amp;#10;import minify' \u003Eminify\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='let page: string' \u003Epage\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const minification_options: {&amp;#10;    collapseBooleanAttributes: boolean;&amp;#10;    collapseWhitespace: boolean;&amp;#10;    conservativeCollapse: boolean;&amp;#10;    decodeEntities: boolean;&amp;#10;    html5: boolean;&amp;#10;    ignoreCustomComments: RegExp[];&amp;#10;    minifyCSS: boolean;&amp;#10;    ... 8 more ...;&amp;#10;    sortClassName: boolean;&amp;#10;}' \u003Eminification_options\u003C\u002Fdata-lsp\u003E) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='let page: string' \u003Epage\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENote that \u003Ccode\u003Eprerendering\u003C\u002Fcode\u003E is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E when using \u003Ccode\u003Evite preview\u003C\u002Fcode\u003E to test the production build of the site, so to verify the results of minifying, you&#39;ll need to inspect the built HTML files directly.\u003C\u002Fp\u003E\n",sections:[{title:"package.json",slug:"package-json",sections:[{title:"type: \"module\"",slug:"package-json-type-module"},{title:"dependencies",slug:"package-json-dependencies"},{title:"devDependencies",slug:"package-json-devdependencies"},{title:"scripts",slug:"package-json-scripts"}]},{title:"Project files",slug:"project-files",sections:[{title:"Configuration",slug:"project-files-configuration"},{title:"src\u002Fclient.js",slug:"project-files-src-client-js"},{title:"src\u002Fserver.js",slug:"project-files-src-server-js"},{title:"src\u002Fservice-worker.js",slug:"project-files-src-service-worker-js"},{title:"src\u002Ftemplate.html",slug:"project-files-src-template-html"},{title:"src\u002Fnode_modules",slug:"project-files-src-node-modules"}]},{title:"Pages and layouts",slug:"pages-and-layouts",sections:[{title:"Renamed files",slug:"pages-and-layouts-renamed-files"},{title:"Imports",slug:"pages-and-layouts-imports"},{title:"Preload",slug:"pages-and-layouts-preload"},{title:"Stores",slug:"pages-and-layouts-stores"},{title:"Routing",slug:"pages-and-layouts-routing"},{title:"Segments",slug:"pages-and-layouts-segments"},{title:"URLs",slug:"pages-and-layouts-urls"},{title:"\u003Ca\u003E attributes",slug:"pages-and-layouts-a-attributes"}]},{title:"Endpoints",slug:"endpoints",sections:[]},{title:"Integrations",slug:"integrations",sections:[{title:"HTML minifier",slug:"integrations-html-minifier"}]}]}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../_app/immutable/entry/start.bc2154d3.js"),
						import("../_app/immutable/entry/app.6b34a82d.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_duwvm8.element, {
							node_ids: [0, 2, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
