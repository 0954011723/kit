<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#ff3e00" />
		<meta name="color-scheme" content="dark light" />

		<link rel="manifest" href="/manifest.json" />
		<link rel="icon" type="image/png" href="/favicon.png" />

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@sveltejs" />
		<meta name="twitter:creator" content="@sveltejs" />
		<meta name="twitter:image" content="/images/twitter-thumbnail.jpg" />
		<meta name="og:image" content="/images/twitter-thumbnail.jpg" />

		<!-- add inline style and blocking script to prevent content flash/jump -->
		<style>
			.ts-version {
				display: none;
			}
			.prefers-ts .js-version {
				display: none;
			}
			.prefers-ts .ts-version {
				display: block;
			}
			.no-js .ts-toggle {
				display: none;
			}
		</style>
		<script>
			document.getElementsByTagName('html')[0].classList.remove('no-js');
			localStorage.getItem('prefers-ts') === 'true' &&
				document.documentElement.classList.add('prefers-ts');
		</script>

		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout.4a4977ec.css" rel="stylesheet">
		<link href="../_app/immutable/assets/navigation.24972d74.css" rel="stylesheet">
		<link href="../_app/immutable/assets/SearchResults.fb8f4adf.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_layout.8f434bed.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_page.b054ce5e.css" rel="stylesheet">
		<link href="../_app/immutable/assets/hovers.7cc24a08.css" rel="stylesheet">
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-300.3782c01a.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/overpass-latin-600.0ca25556.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="../_app/immutable/assets/fira-mono-latin-400.8d4e0c52.woff2" crossorigin>
		<link rel="modulepreload" href="../_app/immutable/entry/start.bc2154d3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.1cc2e0ff.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.3ca5ba59.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.8c4e863e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.e7f5239e.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.6b34a82d.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.svelte.c9a87e1c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.c28f0607.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/navigation.ad4a0c68.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/SearchResults.ee33e9c4.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.js.984db11e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-layout.svelte.7d27cb05.js">
		<link rel="modulepreload" href="../_app/immutable/entry/docs-_slug_-page.svelte.42d084fc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/hovers.010bb342.js"><title>Packaging • Docs • SvelteKit</title><!-- HEAD_svelte-18gm73m_START --><meta name="twitter:title" content="SvelteKit docs"><meta name="twitter:description" content="Packaging • SvelteKit documentation"><meta name="Description" content="Packaging • SvelteKit documentation"><!-- HEAD_svelte-18gm73m_END -->
	</head>
	<body>
		<div>


<div style="display: none">
	<svg><symbol id="arrow-left" class="icon" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></symbol><symbol id="arrow-right" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></symbol><symbol id="arrow-up" class="icon" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></symbol><symbol id="arrow-down" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></symbol><symbol id="check" class="icon" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol><symbol id="close" class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol><symbol id="download" class="icon" viewBox="0 0 24 24"><path d="M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></symbol><symbol id="edit" class="icon" viewBox="0 0 24 24"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></symbol><symbol id="github" class="icon" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5229 6.47715 22 12 22C17.5229 22 22 17.5229 22 12C22 6.47715 17.5229 2 12 2ZM0 12C0 5.3726 5.3726 0 12 0C18.6274 0 24 5.3726 24 12C24 18.6274 18.6274 24 12 24C5.3726 24 0 18.6274 0 12Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.59162 22.7357C9.49492 22.6109 9.49492 21.4986 9.59162 19.399C8.55572 19.4347 7.90122 19.3628 7.62812 19.1833C7.21852 18.9139 6.80842 18.0833 6.44457 17.4979C6.08072 16.9125 5.27312 16.8199 4.94702 16.6891C4.62091 16.5582 4.53905 16.0247 5.84562 16.4282C7.15222 16.8316 7.21592 17.9303 7.62812 18.1872C8.04032 18.4441 9.02572 18.3317 9.47242 18.1259C9.91907 17.9201 9.88622 17.1538 9.96587 16.8503C10.0666 16.5669 9.71162 16.5041 9.70382 16.5018C9.26777 16.5018 6.97697 16.0036 6.34772 13.7852C5.71852 11.5669 6.52907 10.117 6.96147 9.49369C7.24972 9.07814 7.22422 8.19254 6.88497 6.83679C8.11677 6.67939 9.06732 7.06709 9.73672 7.99999C9.73737 8.00534 10.6143 7.47854 12.0001 7.47854C13.386 7.47854 13.8777 7.90764 14.2571 7.99999C14.6365 8.09234 14.94 6.36699 17.2834 6.83679C16.7942 7.79839 16.3844 8.99999 16.6972 9.49369C17.0099 9.98739 18.2372 11.5573 17.4833 13.7852C16.9807 15.2706 15.9927 16.1761 14.5192 16.5018C14.3502 16.5557 14.2658 16.6427 14.2658 16.7627C14.2658 16.9427 14.4942 16.9624 14.8233 17.8058C15.0426 18.368 15.0585 19.9739 14.8708 22.6234C14.3953 22.7445 14.0254 22.8257 13.7611 22.8673C13.2924 22.9409 12.7835 22.9822 12.2834 22.9982C11.7834 23.0141 11.6098 23.0123 10.9185 22.948C10.4577 22.9051 10.0154 22.8343 9.59162 22.7357Z" fill="currentColor" stroke="none"></path></symbol><symbol id="git-branch" class="icon" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></symbol><symbol id="log-in" class="icon" viewBox="0 0 24 24"><path d="M15 3H19A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H15"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></symbol><symbol id="maximize" class="icon" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></symbol><symbol id="maximize-2" class="icon" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></symbol><symbol id="menu" class="icon" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></symbol><symbol id="message-square" class="icon" viewBox="0 0 24 24"><g transform="translate(0, 1)"><path d="M16.5 19H11V15H18V11H22V19H19.5L18 20.5L16.5 19Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 3H18V15H8.5L6.5 17L4.5 15H2V3Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 11H9" stroke="white" stroke-width="1.5" stroke-linecap="round"></path><path d="M6 7H12" stroke="white" stroke-width="1.5" stroke-linecap="round"></path></g></symbol><symbol id="minus" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="plus" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="save" class="icon" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></symbol><symbol id="link" class="icon" viewBox="0 0 24 24"><path d="M9,7L6,7A2 2 0 0 0 6,17L9,17"></path><path d="M15,7L18,7A2 2 0 0 1 18,17L15,17"></path><path d="M7,12L17,12"></path></symbol><symbol id="chevron" class="icon" viewBox="0 0 24 24"><path d="M2,7 L12,17 L20,7"></path></symbol><symbol id="delete" class="icon" viewBox="0 0 24 24"><path fill="currentColor" stroke="none" d="M22 4.2h-5.6L15 1.6c-.1-.2-.4-.4-.7-.4H9.6c-.2 0-.5.2-.6.4L7.6 4.2H2c-.4 0-.8.4-.8.8s.4.8.8.8h1.8V22c0 .4.3.8.8.8h15c.4 0 .8-.3.8-.8V5.8H22c.4 0 .8-.3.8-.8s-.4-.8-.8-.8zM10.8 16.5c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5zm4 0c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5z"></path></symbol></svg></div>



<a href="#main" class="svelte-1rscj97">Skip to main content</a>





<nav aria-label="Primary" class="svelte-173nfcg visible"><a href="/" class="nav-spot home svelte-173nfcg" title="Homepage" style="background-image: url(/_app/immutable/assets/svelte-logo.5c5d7d20.svg)">Home</a>

	<button aria-label="Toggle menu" aria-expanded="false" class="menu-toggle svelte-173nfcg">


<svg class="icon svelte-5yec89" width="1em" height="1em"><use xlink:href="#menu"></use></svg></button>

	<ul class="svelte-173nfcg">
			<li class="svelte-tdqbhp"><form class="search-container svelte-9kfram" action="/search"><input value="" type="search" name="q" placeholder="Search" aria-label="Search" spellcheck="false" class="svelte-9kfram">

	
</form></li></ul>

	<ul class="external svelte-173nfcg"><li><a aria-current="true" href="/docs" class="svelte-1iex17r">Docs</a></li>
		<li><a href="/faq" class="svelte-1iex17r">FAQ</a></li>

		<li aria-hidden="true" class="svelte-tdqbhp"><span class="separator svelte-tdqbhp"></span></li>

		<li><a href="https://svelte.dev" rel="external" class="svelte-1iex17r">Svelte</a></li>

		<li><a href="https://svelte.dev/chat" title="Discord Chat" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">Discord</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#message-square"></use></svg></span></a></li>

		<li><a href="https://github.com/sveltejs/kit" title="GitHub Repo" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">GitHub</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#github"></use></svg></span></a></li>
	</ul>
</nav>

<main id="main" class="svelte-tdqbhp" style="--banner-footer-height: 48px;"><div class="container svelte-1rc2dnd"><div class="page svelte-1rc2dnd">

<div class="text content svelte-zelrq3"><h1>Packaging</h1>

	<a class="edit svelte-zelrq3" href="https://github.com/sveltejs/kit/edit/master/documentation/docs/30-advanced/70-packaging.md">


<svg class="icon svelte-5yec89" width="50" height="50"><use xlink:href="#edit"></use></svg> Edit this page on GitHub
	</a>

	<section><!-- HTML_TAG_START --><p>You can use SvelteKit to build apps as well as component libraries, using the <code>@sveltejs/package</code> package (<code>npm create svelte</code> has an option to set this up for you).</p>
<p>When you&#39;re creating an app, the contents of <code>src/routes</code> is the public-facing stuff; <a href="modules#$lib"><code>src/lib</code></a> contains your app&#39;s internal library.</p>
<p>A component library has the exact same structure as a SvelteKit app, except that <code>src/lib</code> is the public-facing bit, and your root <code>package.json</code> is used to publish the package. <code>src/routes</code> might be a documentation or demo site that accompanies the library, or it might just be a sandbox you use during development.</p>
<p>Running the <code>svelte-package</code> command from <code>@sveltejs/package</code> will take the contents of <code>src/lib</code> and generate a <code>dist</code> directory (which can be <a href="#options">configured</a>) containing the following:</p>
<ul>
<li>All the files in <code>src/lib</code>. Svelte components will be preprocessed, TypeScript files will be transpiled to JavaScript.</li>
<li>Type definitions (<code>d.ts</code> files) which are generated for Svelte, JavaScript and TypeScript files. You need to install <code>typescript &gt;= 4.0.0</code> for this. Type definitions are placed next to their implementation, hand-written <code>d.ts</code> files are copied over as is. You can <a href="#options">disable generation</a>, but we strongly recommend against it — people using your library might use TypeScript, for which they require these type definition files.</li>
</ul>
<blockquote>
<p><code>@sveltejs/package</code> version 1 generated a <code>package.json</code>. This is no longer the case and it will now use the <code>package.json</code> from your project and validate that it is correct instead. If you&#39;re still on version 1, see <a href="https://github.com/sveltejs/kit/pull/8922">this PR</a> for migration instructions.</p>
</blockquote>
<h2 id="anatomy-of-a-package-json">Anatomy of a package.json<a href="#anatomy-of-a-package-json" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>Since you&#39;re now building a library for public use, the contents of your <code>package.json</code> will become more important. Through it, you configure the entry points of your package, which files are published to npm, and which dependencies your library has. Let&#39;s go through the most important fields one by one.</p>
<h3 id="anatomy-of-a-package-json-name">name<a href="#anatomy-of-a-package-json-name" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This is the name of your package. It will be available for others to install using that name, and visible on <code>https://npmjs.com/package/&lt;name&gt;</code>.</p>
<pre class='language-undefined'><code>{
  "name": "your-library"
}</code></pre><p>Read more about it <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#name">here</a>.</p>
<h3 id="anatomy-of-a-package-json-license">license<a href="#anatomy-of-a-package-json-license" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Every package should have a license field so people know how they are allowed to use it. A very popular license which is also very permissive in terms of distribution and reuse without warranty is <code>MIT</code>.</p>
<pre class='language-undefined'><code>{
  "license": "MIT"
}</code></pre><p>Read more about it <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#license">here</a>. Note that you should also include a <code>LICENSE</code> file in your package.</p>
<h3 id="anatomy-of-a-package-json-files">files<a href="#anatomy-of-a-package-json-files" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This tells npm which files it will pack up and upload to npm. It should contain your output folder (<code>dist</code> by default). Your <code>package.json</code> and <code>README</code> and <code>LICENSE</code> will always be included, so you don&#39;t need to specify them.</p>
<pre class='language-undefined'><code>{
  "files": ["dist"]
}</code></pre><p>To exclude unnecessary files (such as unit tests, or modules that are only imported from <code>src/routes</code> etc) you can add them to an <code>.npmignore</code> file. This will result in smaller packages that are faster to install.</p>
<p>Read more about it <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#files">here</a>.</p>
<h3 id="anatomy-of-a-package-json-exports">exports<a href="#anatomy-of-a-package-json-exports" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>The <code>&quot;exports&quot;</code> field contains the package&#39;s entry points. If you set up a new library project through <code>npm create svelte@latest</code>, it&#39;s set to a single export, the package root:</p>
<pre class='language-undefined'><code>{
  "exports": {
    ".": {
      "types": "./dist/index.d.ts",
      "svelte": "./dist/index.js"
    }
  }
}</code></pre><p>This tells bundlers and tooling that your package only has one entry point, the root, and everything should be imported through that, like this:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='import Something' >Something</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)"><data-err>&apos;your-library&apos;</data-err></span><span style="color: var(--shiki-color-text)">;</span></div><span class="error"><span>Cannot find module 'your-library' or its corresponding type declarations.</span><span class="code">2307</span></span><span class="error-behind">Cannot find module 'your-library' or its corresponding type declarations.</span></code></div></pre><p>The <code>types</code> and <code>svelte</code> keys are <a href="https://nodejs.org/api/packages.html#conditional-exports">export conditions</a>. They tell tooling what file to import when they look up the <code>your-library</code> import:</p>
<ul>
<li>TypeScript sees the <code>types</code> condition and looks up the type definition file. If you don&#39;t publish type definitions, omit this condition.</li>
<li>Svelte-aware tooling sees the <code>svelte</code> condition and knows this is a Svelte component library. If you publish a library that does not export any Svelte components and that could also work in non-Svelte projects (for example a Svelte store library), you can replace this condition with <code>default</code>.</li>
</ul>
<blockquote>
<p>Previous versions of <code>@sveltejs/package</code> also added a <code>package.json</code> export. This is no longer part of the template because all tooling can now deal with a <code>package.json</code> not being explicitly exported.</p>
</blockquote>
<p>You can adjust <code>exports</code> to your liking and provide more entry points. For example, if instead of a <code>src/lib/index.js</code> file that re-exported components you wanted to expose a <code>src/lib/Foo.svelte</code> component directly, you could create the following export map...</p>
<pre class='language-undefined'><code>{
  "exports": {
    "./Foo.svelte": {
      "types": "./dist/Foo.svelte.d.ts",
      "svelte": "./dist/Foo.svelte"
    }
  }
}</code></pre><p>...and a consumer of your library could import the component like so:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(alias) module "your-library/Foo.svelte"&amp;#10;import Foo' >Foo</data-lsp> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;your-library/Foo.svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div></code></div></pre><blockquote>
<p>Beware that doing this will need additional care if you provide type definitions. Read more about the caveat <a href="#typescript">here</a></p>
</blockquote>
<p>In general, each key of the exports map is the path the user will have to use to import something from your package, and the value is the path to the file that will be imported or a map of export conditions which in turn contains these file paths.</p>
<p>Read more about <code>exports</code> <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#package-entry-points">here</a>.</p>
<h3 id="anatomy-of-a-package-json-svelte">svelte<a href="#anatomy-of-a-package-json-svelte" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>This is a legacy field that enabled tooling to recognise Svelte component libraries. It&#39;s no longer necessary when using the <code>svelte</code> <a href="#anatomy-of-a-package-json-exports">export condition</a>, but for backwards compatibility with outdated tooling that doesn&#39;t yet know about export conditions it&#39;s good to keep it around. It should point towards your root entry point.</p>
<pre class='language-undefined'><code>{
  "svelte": "./dist/index.js"
}</code></pre><h2 id="typescript">TypeScript<a href="#typescript" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>You should ship type definitions for your library even if you don&#39;t use TypeScript yourself so that people who do get proper intellisense when using your library. <code>@sveltejs/package</code> makes the process of generating types mostly opaque to you. By default, when packaging your library, type definitions are auto-generated for JavaScript, TypeScript and Svelte files. All you need to ensure is that the <code>types</code> condition in the <a href="#anatomy-of-a-package-json-exports">exports</a> map points to the correct files. When initialising a library project through <code>npm create svelte@latest</code>, this is automatically setup for the root export.</p>
<p>If you have something else than a root export however — for example providing a <code>your-library/foo</code> import — you need to take additional care for providing type definitions. Unfortunately, TypeScript by default will <em>not</em> resolve the <code>types</code> condition for an export like <code>{ &quot;./foo&quot;: { &quot;types&quot;: &quot;./dist/foo.d.ts&quot;, ... }}</code>. Instead, it will search for a <code>foo.d.ts</code> relative to the root of your library (i.e. <code>your-library/foo.d.ts</code> instead of <code>your-library/dist/foo.d.ts</code>). To fix this, you have two options:</p>
<p>The first option is to require people using your library to set the <code>moduleResolution</code> option in their <code>tsconfig/jsconfig.json</code> to <code>bundler</code> (available since TypeScript 5, the best and recommended option in the future), <code>node16</code> or <code>nodenext</code>. This opts TypeScript into actually looking at the exports map and resolving the types correctly.</p>
<p>The second option is to (ab)use the <code>typesVersions</code> feature from TypeScript to wire up the types. This is a field inside <code>package.json</code> TypeScript uses to check for different type definitions depending on the TypeScript version, and also contains a path mapping feature for that. We leverage that path mapping feature to get what we want. For the mentioned <code>foo</code> export above, the corresponding <code>typesVersions</code> looks like this:</p>
<pre class='language-undefined'><code>{
  "exports": {
    "./foo": {
      "types": "./dist/foo.d.ts",
      "svelte": "./dist/foo.js"
    }
  },
  "typesVersions": {
    "&gt;4.0": {
      "foo": ["./dist/foo.d.ts"]
    }
  }
}</code></pre><p><code>&gt;4.0</code> tells TypeScript to check the inner map if the used TypeScript version is greater than 4 (which should in practice always be true). The inner map tells TypeScript that the typings for <code>your-library/foo</code> are found within <code>./dist/foo.d.ts</code>, which essentially replicates the <code>exports</code> condition. You also have <code>*</code> as a wildcard at your disposal to make many type definitions at once available without repeating yourself. Note that if you opt into <code>typesVersions</code> you have to declare all type imports through it, including the root import (which is defined as <code>&quot;index&quot;: [..]</code>).</p>
<p>You can read more about that feature <a href="https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html#version-selection-with-typesversions">here</a>.</p>
<h2 id="best-practices">Best practices<a href="#best-practices" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>You should avoid using <a href="modules">SvelteKit-specific modules</a> like <code>$app</code> in your packages unless you intend for them to only be consumable by other SvelteKit projects. E.g. rather than using <code>import { browser } from &#39;$app/environment&#39;</code> you could use <code>import { BROWSER } from &#39;esm-env&#39;</code> (<a href="https://github.com/benmccann/esm-env">see esm-env docs</a>). You may also wish to pass in things like the current URL or a navigation action as a prop rather than relying directly on <code>$app/stores</code>, <code>$app/navigation</code>, etc. Writing your app in this more generic fashion will also make it easier to setup tools for testing, UI demos and so on.</p>
<p>Ensure that you add <a href="/docs/configuration#alias">aliases</a> via <code>svelte.config.js</code> (not <code>vite.config.js</code> or <code>tsconfig.json</code>), so that they are processed by <code>svelte-package</code>.</p>
<p>You should think carefully about whether or not the changes you make to your package are a bug fix, a new feature, or a breaking change, and update the package version accordingly. Note that if you remove any paths from <code>exports</code> or any <code>export</code> conditions inside them from your existing library, that should be regarded as a breaking change.</p>
<pre class="language-diff"><code>{
  &quot;exports&quot;: {
    &quot;.&quot;: {
      &quot;types&quot;: &quot;./dist/index.d.ts&quot;,
// changing `svelte` to `default` is a breaking change:
<span class="deleted">			&quot;svelte&quot;: &quot;./dist/index.js&quot;
</span><span class="inserted">			&quot;default&quot;: &quot;./dist/index.js&quot;
</span>    },
// removing this is a breaking change:
<span class="deleted">		&quot;./foo&quot;: {
</span><span class="deleted">			&quot;types&quot;: &quot;./dist/foo.d.ts&quot;,
</span><span class="deleted">			&quot;svelte&quot;: &quot;./dist/foo.js&quot;,
</span><span class="deleted">			&quot;default&quot;: &quot;./dist/foo.js&quot;
</span><span class="deleted">		},
</span>// adding this is ok:
<span class="inserted">		&quot;./bar&quot;: {
</span><span class="inserted">			&quot;types&quot;: &quot;./dist/bar.d.ts&quot;,
</span><span class="inserted">			&quot;svelte&quot;: &quot;./dist/bar.js&quot;,
</span><span class="inserted">			&quot;default&quot;: &quot;./dist/bar.js&quot;
</span><span class="inserted">		}
</span>  }
}
</code></pre><h2 id="options">Options<a href="#options" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p><code>svelte-package</code> accepts the following options:</p>
<ul>
<li><code>-w</code>/<code>--watch</code> — watch files in <code>src/lib</code> for changes and rebuild the package</li>
<li><code>-i</code>/<code>--input</code> — the input directory which contains all the files of the package. Defaults to <code>src/lib</code></li>
<li><code>-o</code>/<code>--o</code> — the output directory where the processed files are written to. Your <code>package.json</code>&#39;s <code>exports</code> should point to files inside there, and the <code>files</code> array should include that folder. Defaults to <code>dist</code></li>
<li><code>-t</code>/<code>--types</code> — whether or not to create type definitions (<code>d.ts</code> files). We strongly recommend doing this as it fosters ecosystem library quality. Defaults to <code>true</code></li>
</ul>
<h2 id="publishing">Publishing<a href="#publishing" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>To publish the generated package:</p>
<pre class='language-undefined'><code>npm publish</code></pre><h2 id="caveats">Caveats<a href="#caveats" class="permalink"><span class="visually-hidden">permalink</span></a></h2><p>All relative file imports need to be fully specified, adhering to Node&#39;s ESM algorithm. This means that for a file like <code>src/lib/something/index.js</code>, you must include the filename with the extension:</p>
<pre class="language-diff"><code><span class="deleted">import { something } from &#39;./something&#39;;
</span><span class="inserted">import { something } from &#39;./something/index.js&#39;;
</span></code></pre><p>If you are using TypeScript, you need to import <code>.ts</code> files the same way, but using a <code>.js</code> file ending, <em>not</em> a <code>.ts</code> file ending. (This is a TypeScript design decision outside our control.) Setting <code>&quot;moduleResolution&quot;: &quot;NodeNext&quot;</code> in your <code>tsconfig.json</code> or <code>jsconfig.json</code> will help you with this.</p>
<p>All files except Svelte files (preprocessed) and TypeScript files (transpiled to JavaScript) are copied across as-is.</p>
<!-- HTML_TAG_END --></section>

	<div class="controls svelte-zelrq3"><div class="svelte-zelrq3"><span class="svelte-zelrq3">previous</span>
			<a href="/docs/snapshots">Snapshots</a></div>

		<div class="svelte-zelrq3"><span class="svelte-zelrq3">next</span>
			<a href="/docs/accessibility">Accessibility</a></div></div></div>



<aside class="on-this-page svelte-tsiaal"><h2 class="svelte-tsiaal">On this page</h2>
	<nav><ul class="svelte-tsiaal"><li><a href="/docs/packaging" class="svelte-tsiaal active">Packaging</a></li>
			<li><a href="#anatomy-of-a-package-json" class="svelte-tsiaal">Anatomy of a package.json</a></li><li><a href="#typescript" class="svelte-tsiaal">TypeScript</a></li><li><a href="#best-practices" class="svelte-tsiaal">Best practices</a></li><li><a href="#options" class="svelte-tsiaal">Options</a></li><li><a href="#publishing" class="svelte-tsiaal">Publishing</a></li><li><a href="#caveats" class="svelte-tsiaal">Caveats</a></li></ul></nav>
</aside></div>

	<div class="toc-container svelte-1rc2dnd"><nav aria-label="Docs" class="svelte-1izbfc5"><ul class="sidebar svelte-1izbfc5"><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Getting started</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/introduction">Introduction</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/creating-a-project">Creating a project</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/project-structure">Project structure</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/web-standards">Web standards</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Core concepts</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/routing">Routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/load">Loading data</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/form-actions">Form actions</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/page-options">Page options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/state-management">State management</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Build and deploy</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/building-your-app">Building your app</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapters">Adapters</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-auto">Zero-config deployments</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-node">Node servers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-static">Static site generation</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/single-page-apps">Single-page apps</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare">Cloudflare Pages</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-cloudflare-workers">Cloudflare Workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-netlify">Netlify</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/adapter-vercel">Vercel</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/writing-adapters">Writing adapters</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Advanced</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/advanced-routing">Advanced routing</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/hooks">Hooks</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/errors">Errors</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/link-options">Link options</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/service-workers">Service workers</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/server-only-modules">Server-only modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/assets">Asset handling</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/snapshots">Snapshots</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5 active" href="/docs/packaging">Packaging</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Best practices</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/accessibility">Accessibility</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/seo">SEO</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Reference</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/configuration">Configuration</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/cli">Command Line Interface</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/modules">Modules</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/types">Types</a>
						</li></ul>
			</li><li class="svelte-1izbfc5"><span class="section svelte-1izbfc5">Appendix</span>

				<ul class="svelte-1izbfc5"><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/integrations">Integrations</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/migrating">Migrating from Sapper</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/additional-resources">Additional resources</a>
						</li><li class="svelte-1izbfc5"><a data-sveltekit-preload-data class="page svelte-1izbfc5" href="/docs/glossary">Glossary</a>
						</li></ul>
			</li></ul>
</nav></div>

	<div class="ts-toggle svelte-1rc2dnd"><div class="input-output-toggle svelte-1ev6lam"><span aria-hidden="true">JavaScript</span> <button aria-pressed="false" class="svelte-1c3yzdv"><span class="visually-hidden">TypeScript code examples</span>
</button> <span aria-hidden="true">TypeScript</span>
</div></div>
</div></main>

<div class="banner svelte-tdqbhp" style="--banner-footer-height: 48px;"><a target="_blank" rel="noopener noreferrer" href="https://hack.sveltesociety.dev/"><span class="small svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Participate →
			</span>
			<span class="large svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Our first hackathon with over $12,000 in prizes →
			</span></a>
		<button class="svelte-tdqbhp">✕ </button></div>




			
			<script>
				{
					__sveltekit_duwvm8 = {
						env: {},
						base: new URL("..", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,{"type":"data","data":{sections:[{title:"Getting started",pages:[{title:"Introduction",path:"\u002Fdocs\u002Fintroduction"},{title:"Creating a project",path:"\u002Fdocs\u002Fcreating-a-project"},{title:"Project structure",path:"\u002Fdocs\u002Fproject-structure"},{title:"Web standards",path:"\u002Fdocs\u002Fweb-standards"}]},{title:"Core concepts",pages:[{title:"Routing",path:"\u002Fdocs\u002Frouting"},{title:"Loading data",path:"\u002Fdocs\u002Fload"},{title:"Form actions",path:"\u002Fdocs\u002Fform-actions"},{title:"Page options",path:"\u002Fdocs\u002Fpage-options"},{title:"State management",path:"\u002Fdocs\u002Fstate-management"}]},{title:"Build and deploy",pages:[{title:"Building your app",path:"\u002Fdocs\u002Fbuilding-your-app"},{title:"Adapters",path:"\u002Fdocs\u002Fadapters"},{title:"Zero-config deployments",path:"\u002Fdocs\u002Fadapter-auto"},{title:"Node servers",path:"\u002Fdocs\u002Fadapter-node"},{title:"Static site generation",path:"\u002Fdocs\u002Fadapter-static"},{title:"Single-page apps",path:"\u002Fdocs\u002Fsingle-page-apps"},{title:"Cloudflare Pages",path:"\u002Fdocs\u002Fadapter-cloudflare"},{title:"Cloudflare Workers",path:"\u002Fdocs\u002Fadapter-cloudflare-workers"},{title:"Netlify",path:"\u002Fdocs\u002Fadapter-netlify"},{title:"Vercel",path:"\u002Fdocs\u002Fadapter-vercel"},{title:"Writing adapters",path:"\u002Fdocs\u002Fwriting-adapters"}]},{title:"Advanced",pages:[{title:"Advanced routing",path:"\u002Fdocs\u002Fadvanced-routing"},{title:"Hooks",path:"\u002Fdocs\u002Fhooks"},{title:"Errors",path:"\u002Fdocs\u002Ferrors"},{title:"Link options",path:"\u002Fdocs\u002Flink-options"},{title:"Service workers",path:"\u002Fdocs\u002Fservice-workers"},{title:"Server-only modules",path:"\u002Fdocs\u002Fserver-only-modules"},{title:"Asset handling",path:"\u002Fdocs\u002Fassets"},{title:"Snapshots",path:"\u002Fdocs\u002Fsnapshots"},{title:"Packaging",path:"\u002Fdocs\u002Fpackaging"}]},{title:"Best practices",pages:[{title:"Accessibility",path:"\u002Fdocs\u002Faccessibility"},{title:"SEO",path:"\u002Fdocs\u002Fseo"}]},{title:"Reference",pages:[{title:"Configuration",path:"\u002Fdocs\u002Fconfiguration"},{title:"Command Line Interface",path:"\u002Fdocs\u002Fcli"},{title:"Modules",path:"\u002Fdocs\u002Fmodules"},{title:"Types",path:"\u002Fdocs\u002Ftypes"}]},{title:"Appendix",pages:[{title:"Integrations",path:"\u002Fdocs\u002Fintegrations"},{title:"Migrating from Sapper",path:"\u002Fdocs\u002Fmigrating"},{title:"Additional resources",path:"\u002Fdocs\u002Fadditional-resources"},{title:"Glossary",path:"\u002Fdocs\u002Fglossary"}]}]},"uses":{}},{"type":"data","data":{page:{file:"docs\u002F30-advanced\u002F70-packaging.md",slug:"packaging",title:"Packaging",content:"\u003Cp\u003EYou can use SvelteKit to build apps as well as component libraries, using the \u003Ccode\u003E@sveltejs\u002Fpackage\u003C\u002Fcode\u003E package (\u003Ccode\u003Enpm create svelte\u003C\u002Fcode\u003E has an option to set this up for you).\u003C\u002Fp\u003E\n\u003Cp\u003EWhen you&#39;re creating an app, the contents of \u003Ccode\u003Esrc\u002Froutes\u003C\u002Fcode\u003E is the public-facing stuff; \u003Ca href=\"modules#$lib\"\u003E\u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E\u003C\u002Fa\u003E contains your app&#39;s internal library.\u003C\u002Fp\u003E\n\u003Cp\u003EA component library has the exact same structure as a SvelteKit app, except that \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E is the public-facing bit, and your root \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E is used to publish the package. \u003Ccode\u003Esrc\u002Froutes\u003C\u002Fcode\u003E might be a documentation or demo site that accompanies the library, or it might just be a sandbox you use during development.\u003C\u002Fp\u003E\n\u003Cp\u003ERunning the \u003Ccode\u003Esvelte-package\u003C\u002Fcode\u003E command from \u003Ccode\u003E@sveltejs\u002Fpackage\u003C\u002Fcode\u003E will take the contents of \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E and generate a \u003Ccode\u003Edist\u003C\u002Fcode\u003E directory (which can be \u003Ca href=\"#options\"\u003Econfigured\u003C\u002Fa\u003E) containing the following:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAll the files in \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E. Svelte components will be preprocessed, TypeScript files will be transpiled to JavaScript.\u003C\u002Fli\u003E\n\u003Cli\u003EType definitions (\u003Ccode\u003Ed.ts\u003C\u002Fcode\u003E files) which are generated for Svelte, JavaScript and TypeScript files. You need to install \u003Ccode\u003Etypescript &gt;= 4.0.0\u003C\u002Fcode\u003E for this. Type definitions are placed next to their implementation, hand-written \u003Ccode\u003Ed.ts\u003C\u002Fcode\u003E files are copied over as is. You can \u003Ca href=\"#options\"\u003Edisable generation\u003C\u002Fa\u003E, but we strongly recommend against it — people using your library might use TypeScript, for which they require these type definition files.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Ccode\u003E@sveltejs\u002Fpackage\u003C\u002Fcode\u003E version 1 generated a \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E. This is no longer the case and it will now use the \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E from your project and validate that it is correct instead. If you&#39;re still on version 1, see \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fkit\u002Fpull\u002F8922\"\u003Ethis PR\u003C\u002Fa\u003E for migration instructions.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"anatomy-of-a-package-json\"\u003EAnatomy of a package.json\u003Ca href=\"#anatomy-of-a-package-json\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003ESince you&#39;re now building a library for public use, the contents of your \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E will become more important. Through it, you configure the entry points of your package, which files are published to npm, and which dependencies your library has. Let&#39;s go through the most important fields one by one.\u003C\u002Fp\u003E\n\u003Ch3 id=\"anatomy-of-a-package-json-name\"\u003Ename\u003Ca href=\"#anatomy-of-a-package-json-name\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis is the name of your package. It will be available for others to install using that name, and visible on \u003Ccode\u003Ehttps:\u002F\u002Fnpmjs.com\u002Fpackage\u002F&lt;name&gt;\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"name\": \"your-library\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ERead more about it \u003Ca href=\"https:\u002F\u002Fdocs.npmjs.com\u002Fcli\u002Fv9\u002Fconfiguring-npm\u002Fpackage-json#name\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"anatomy-of-a-package-json-license\"\u003Elicense\u003Ca href=\"#anatomy-of-a-package-json-license\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EEvery package should have a license field so people know how they are allowed to use it. A very popular license which is also very permissive in terms of distribution and reuse without warranty is \u003Ccode\u003EMIT\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"license\": \"MIT\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ERead more about it \u003Ca href=\"https:\u002F\u002Fdocs.npmjs.com\u002Fcli\u002Fv9\u002Fconfiguring-npm\u002Fpackage-json#license\"\u003Ehere\u003C\u002Fa\u003E. Note that you should also include a \u003Ccode\u003ELICENSE\u003C\u002Fcode\u003E file in your package.\u003C\u002Fp\u003E\n\u003Ch3 id=\"anatomy-of-a-package-json-files\"\u003Efiles\u003Ca href=\"#anatomy-of-a-package-json-files\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis tells npm which files it will pack up and upload to npm. It should contain your output folder (\u003Ccode\u003Edist\u003C\u002Fcode\u003E by default). Your \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E and \u003Ccode\u003EREADME\u003C\u002Fcode\u003E and \u003Ccode\u003ELICENSE\u003C\u002Fcode\u003E will always be included, so you don&#39;t need to specify them.\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"files\": [\"dist\"]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ETo exclude unnecessary files (such as unit tests, or modules that are only imported from \u003Ccode\u003Esrc\u002Froutes\u003C\u002Fcode\u003E etc) you can add them to an \u003Ccode\u003E.npmignore\u003C\u002Fcode\u003E file. This will result in smaller packages that are faster to install.\u003C\u002Fp\u003E\n\u003Cp\u003ERead more about it \u003Ca href=\"https:\u002F\u002Fdocs.npmjs.com\u002Fcli\u002Fv9\u002Fconfiguring-npm\u002Fpackage-json#files\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"anatomy-of-a-package-json-exports\"\u003Eexports\u003Ca href=\"#anatomy-of-a-package-json-exports\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThe \u003Ccode\u003E&quot;exports&quot;\u003C\u002Fcode\u003E field contains the package&#39;s entry points. If you set up a new library project through \u003Ccode\u003Enpm create svelte@latest\u003C\u002Fcode\u003E, it&#39;s set to a single export, the package root:\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"exports\": {\n    \".\": {\n      \"types\": \".\u002Fdist\u002Findex.d.ts\",\n      \"svelte\": \".\u002Fdist\u002Findex.js\"\n    }\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis tells bundlers and tooling that your package only has one entry point, the root, and everything should be imported through that, like this:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='import Something' \u003ESomething\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E\u003Cdata-err\u003E&apos;your-library&apos;\u003C\u002Fdata-err\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cspan class=\"error\"\u003E\u003Cspan\u003ECannot find module 'your-library' or its corresponding type declarations.\u003C\u002Fspan\u003E\u003Cspan class=\"code\"\u003E2307\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"error-behind\"\u003ECannot find module 'your-library' or its corresponding type declarations.\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThe \u003Ccode\u003Etypes\u003C\u002Fcode\u003E and \u003Ccode\u003Esvelte\u003C\u002Fcode\u003E keys are \u003Ca href=\"https:\u002F\u002Fnodejs.org\u002Fapi\u002Fpackages.html#conditional-exports\"\u003Eexport conditions\u003C\u002Fa\u003E. They tell tooling what file to import when they look up the \u003Ccode\u003Eyour-library\u003C\u002Fcode\u003E import:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETypeScript sees the \u003Ccode\u003Etypes\u003C\u002Fcode\u003E condition and looks up the type definition file. If you don&#39;t publish type definitions, omit this condition.\u003C\u002Fli\u003E\n\u003Cli\u003ESvelte-aware tooling sees the \u003Ccode\u003Esvelte\u003C\u002Fcode\u003E condition and knows this is a Svelte component library. If you publish a library that does not export any Svelte components and that could also work in non-Svelte projects (for example a Svelte store library), you can replace this condition with \u003Ccode\u003Edefault\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EPrevious versions of \u003Ccode\u003E@sveltejs\u002Fpackage\u003C\u002Fcode\u003E also added a \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E export. This is no longer part of the template because all tooling can now deal with a \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E not being explicitly exported.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EYou can adjust \u003Ccode\u003Eexports\u003C\u002Fcode\u003E to your liking and provide more entry points. For example, if instead of a \u003Ccode\u003Esrc\u002Flib\u002Findex.js\u003C\u002Fcode\u003E file that re-exported components you wanted to expose a \u003Ccode\u003Esrc\u002Flib\u002FFoo.svelte\u003C\u002Fcode\u003E component directly, you could create the following export map...\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"exports\": {\n    \".\u002FFoo.svelte\": {\n      \"types\": \".\u002Fdist\u002FFoo.svelte.d.ts\",\n      \"svelte\": \".\u002Fdist\u002FFoo.svelte\"\n    }\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E...and a consumer of your library could import the component like so:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(alias) module \"your-library\u002FFoo.svelte\"&amp;#10;import Foo' \u003EFoo\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;your-library\u002FFoo.svelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cblockquote\u003E\n\u003Cp\u003EBeware that doing this will need additional care if you provide type definitions. Read more about the caveat \u003Ca href=\"#typescript\"\u003Ehere\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EIn general, each key of the exports map is the path the user will have to use to import something from your package, and the value is the path to the file that will be imported or a map of export conditions which in turn contains these file paths.\u003C\u002Fp\u003E\n\u003Cp\u003ERead more about \u003Ccode\u003Eexports\u003C\u002Fcode\u003E \u003Ca href=\"https:\u002F\u002Fnodejs.org\u002Fdocs\u002Flatest-v18.x\u002Fapi\u002Fpackages.html#package-entry-points\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"anatomy-of-a-package-json-svelte\"\u003Esvelte\u003Ca href=\"#anatomy-of-a-package-json-svelte\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EThis is a legacy field that enabled tooling to recognise Svelte component libraries. It&#39;s no longer necessary when using the \u003Ccode\u003Esvelte\u003C\u002Fcode\u003E \u003Ca href=\"#anatomy-of-a-package-json-exports\"\u003Eexport condition\u003C\u002Fa\u003E, but for backwards compatibility with outdated tooling that doesn&#39;t yet know about export conditions it&#39;s good to keep it around. It should point towards your root entry point.\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"svelte\": \".\u002Fdist\u002Findex.js\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"typescript\"\u003ETypeScript\u003Ca href=\"#typescript\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EYou should ship type definitions for your library even if you don&#39;t use TypeScript yourself so that people who do get proper intellisense when using your library. \u003Ccode\u003E@sveltejs\u002Fpackage\u003C\u002Fcode\u003E makes the process of generating types mostly opaque to you. By default, when packaging your library, type definitions are auto-generated for JavaScript, TypeScript and Svelte files. All you need to ensure is that the \u003Ccode\u003Etypes\u003C\u002Fcode\u003E condition in the \u003Ca href=\"#anatomy-of-a-package-json-exports\"\u003Eexports\u003C\u002Fa\u003E map points to the correct files. When initialising a library project through \u003Ccode\u003Enpm create svelte@latest\u003C\u002Fcode\u003E, this is automatically setup for the root export.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you have something else than a root export however — for example providing a \u003Ccode\u003Eyour-library\u002Ffoo\u003C\u002Fcode\u003E import — you need to take additional care for providing type definitions. Unfortunately, TypeScript by default will \u003Cem\u003Enot\u003C\u002Fem\u003E resolve the \u003Ccode\u003Etypes\u003C\u002Fcode\u003E condition for an export like \u003Ccode\u003E{ &quot;.\u002Ffoo&quot;: { &quot;types&quot;: &quot;.\u002Fdist\u002Ffoo.d.ts&quot;, ... }}\u003C\u002Fcode\u003E. Instead, it will search for a \u003Ccode\u003Efoo.d.ts\u003C\u002Fcode\u003E relative to the root of your library (i.e. \u003Ccode\u003Eyour-library\u002Ffoo.d.ts\u003C\u002Fcode\u003E instead of \u003Ccode\u003Eyour-library\u002Fdist\u002Ffoo.d.ts\u003C\u002Fcode\u003E). To fix this, you have two options:\u003C\u002Fp\u003E\n\u003Cp\u003EThe first option is to require people using your library to set the \u003Ccode\u003EmoduleResolution\u003C\u002Fcode\u003E option in their \u003Ccode\u003Etsconfig\u002Fjsconfig.json\u003C\u002Fcode\u003E to \u003Ccode\u003Ebundler\u003C\u002Fcode\u003E (available since TypeScript 5, the best and recommended option in the future), \u003Ccode\u003Enode16\u003C\u002Fcode\u003E or \u003Ccode\u003Enodenext\u003C\u002Fcode\u003E. This opts TypeScript into actually looking at the exports map and resolving the types correctly.\u003C\u002Fp\u003E\n\u003Cp\u003EThe second option is to (ab)use the \u003Ccode\u003EtypesVersions\u003C\u002Fcode\u003E feature from TypeScript to wire up the types. This is a field inside \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E TypeScript uses to check for different type definitions depending on the TypeScript version, and also contains a path mapping feature for that. We leverage that path mapping feature to get what we want. For the mentioned \u003Ccode\u003Efoo\u003C\u002Fcode\u003E export above, the corresponding \u003Ccode\u003EtypesVersions\u003C\u002Fcode\u003E looks like this:\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003E{\n  \"exports\": {\n    \".\u002Ffoo\": {\n      \"types\": \".\u002Fdist\u002Ffoo.d.ts\",\n      \"svelte\": \".\u002Fdist\u002Ffoo.js\"\n    }\n  },\n  \"typesVersions\": {\n    \"&gt;4.0\": {\n      \"foo\": [\".\u002Fdist\u002Ffoo.d.ts\"]\n    }\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Ccode\u003E&gt;4.0\u003C\u002Fcode\u003E tells TypeScript to check the inner map if the used TypeScript version is greater than 4 (which should in practice always be true). The inner map tells TypeScript that the typings for \u003Ccode\u003Eyour-library\u002Ffoo\u003C\u002Fcode\u003E are found within \u003Ccode\u003E.\u002Fdist\u002Ffoo.d.ts\u003C\u002Fcode\u003E, which essentially replicates the \u003Ccode\u003Eexports\u003C\u002Fcode\u003E condition. You also have \u003Ccode\u003E*\u003C\u002Fcode\u003E as a wildcard at your disposal to make many type definitions at once available without repeating yourself. Note that if you opt into \u003Ccode\u003EtypesVersions\u003C\u002Fcode\u003E you have to declare all type imports through it, including the root import (which is defined as \u003Ccode\u003E&quot;index&quot;: [..]\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\n\u003Cp\u003EYou can read more about that feature \u003Ca href=\"https:\u002F\u002Fwww.typescriptlang.org\u002Fdocs\u002Fhandbook\u002Fdeclaration-files\u002Fpublishing.html#version-selection-with-typesversions\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"best-practices\"\u003EBest practices\u003Ca href=\"#best-practices\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EYou should avoid using \u003Ca href=\"modules\"\u003ESvelteKit-specific modules\u003C\u002Fa\u003E like \u003Ccode\u003E$app\u003C\u002Fcode\u003E in your packages unless you intend for them to only be consumable by other SvelteKit projects. E.g. rather than using \u003Ccode\u003Eimport { browser } from &#39;$app\u002Fenvironment&#39;\u003C\u002Fcode\u003E you could use \u003Ccode\u003Eimport { BROWSER } from &#39;esm-env&#39;\u003C\u002Fcode\u003E (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbenmccann\u002Fesm-env\"\u003Esee esm-env docs\u003C\u002Fa\u003E). You may also wish to pass in things like the current URL or a navigation action as a prop rather than relying directly on \u003Ccode\u003E$app\u002Fstores\u003C\u002Fcode\u003E, \u003Ccode\u003E$app\u002Fnavigation\u003C\u002Fcode\u003E, etc. Writing your app in this more generic fashion will also make it easier to setup tools for testing, UI demos and so on.\u003C\u002Fp\u003E\n\u003Cp\u003EEnsure that you add \u003Ca href=\"\u002Fdocs\u002Fconfiguration#alias\"\u003Ealiases\u003C\u002Fa\u003E via \u003Ccode\u003Esvelte.config.js\u003C\u002Fcode\u003E (not \u003Ccode\u003Evite.config.js\u003C\u002Fcode\u003E or \u003Ccode\u003Etsconfig.json\u003C\u002Fcode\u003E), so that they are processed by \u003Ccode\u003Esvelte-package\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EYou should think carefully about whether or not the changes you make to your package are a bug fix, a new feature, or a breaking change, and update the package version accordingly. Note that if you remove any paths from \u003Ccode\u003Eexports\u003C\u002Fcode\u003E or any \u003Ccode\u003Eexport\u003C\u002Fcode\u003E conditions inside them from your existing library, that should be regarded as a breaking change.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode\u003E{\n  &quot;exports&quot;: {\n    &quot;.&quot;: {\n      &quot;types&quot;: &quot;.\u002Fdist\u002Findex.d.ts&quot;,\n\u002F\u002F changing `svelte` to `default` is a breaking change:\n\u003Cspan class=\"deleted\"\u003E\t\t\t&quot;svelte&quot;: &quot;.\u002Fdist\u002Findex.js&quot;\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003E\t\t\t&quot;default&quot;: &quot;.\u002Fdist\u002Findex.js&quot;\n\u003C\u002Fspan\u003E    },\n\u002F\u002F removing this is a breaking change:\n\u003Cspan class=\"deleted\"\u003E\t\t&quot;.\u002Ffoo&quot;: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"deleted\"\u003E\t\t\t&quot;types&quot;: &quot;.\u002Fdist\u002Ffoo.d.ts&quot;,\n\u003C\u002Fspan\u003E\u003Cspan class=\"deleted\"\u003E\t\t\t&quot;svelte&quot;: &quot;.\u002Fdist\u002Ffoo.js&quot;,\n\u003C\u002Fspan\u003E\u003Cspan class=\"deleted\"\u003E\t\t\t&quot;default&quot;: &quot;.\u002Fdist\u002Ffoo.js&quot;\n\u003C\u002Fspan\u003E\u003Cspan class=\"deleted\"\u003E\t\t},\n\u003C\u002Fspan\u003E\u002F\u002F adding this is ok:\n\u003Cspan class=\"inserted\"\u003E\t\t&quot;.\u002Fbar&quot;: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003E\t\t\t&quot;types&quot;: &quot;.\u002Fdist\u002Fbar.d.ts&quot;,\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003E\t\t\t&quot;svelte&quot;: &quot;.\u002Fdist\u002Fbar.js&quot;,\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003E\t\t\t&quot;default&quot;: &quot;.\u002Fdist\u002Fbar.js&quot;\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003E\t\t}\n\u003C\u002Fspan\u003E  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"options\"\u003EOptions\u003Ca href=\"#options\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ccode\u003Esvelte-package\u003C\u002Fcode\u003E accepts the following options:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E-w\u003C\u002Fcode\u003E\u002F\u003Ccode\u003E--watch\u003C\u002Fcode\u003E — watch files in \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E for changes and rebuild the package\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003E-i\u003C\u002Fcode\u003E\u002F\u003Ccode\u003E--input\u003C\u002Fcode\u003E — the input directory which contains all the files of the package. Defaults to \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003E-o\u003C\u002Fcode\u003E\u002F\u003Ccode\u003E--o\u003C\u002Fcode\u003E — the output directory where the processed files are written to. Your \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E&#39;s \u003Ccode\u003Eexports\u003C\u002Fcode\u003E should point to files inside there, and the \u003Ccode\u003Efiles\u003C\u002Fcode\u003E array should include that folder. Defaults to \u003Ccode\u003Edist\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003E-t\u003C\u002Fcode\u003E\u002F\u003Ccode\u003E--types\u003C\u002Fcode\u003E — whether or not to create type definitions (\u003Ccode\u003Ed.ts\u003C\u002Fcode\u003E files). We strongly recommend doing this as it fosters ecosystem library quality. Defaults to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"publishing\"\u003EPublishing\u003Ca href=\"#publishing\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003ETo publish the generated package:\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003Enpm publish\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"caveats\"\u003ECaveats\u003Ca href=\"#caveats\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\u003Cp\u003EAll relative file imports need to be fully specified, adhering to Node&#39;s ESM algorithm. This means that for a file like \u003Ccode\u003Esrc\u002Flib\u002Fsomething\u002Findex.js\u003C\u002Fcode\u003E, you must include the filename with the extension:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode\u003E\u003Cspan class=\"deleted\"\u003Eimport { something } from &#39;.\u002Fsomething&#39;;\n\u003C\u002Fspan\u003E\u003Cspan class=\"inserted\"\u003Eimport { something } from &#39;.\u002Fsomething\u002Findex.js&#39;;\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EIf you are using TypeScript, you need to import \u003Ccode\u003E.ts\u003C\u002Fcode\u003E files the same way, but using a \u003Ccode\u003E.js\u003C\u002Fcode\u003E file ending, \u003Cem\u003Enot\u003C\u002Fem\u003E a \u003Ccode\u003E.ts\u003C\u002Fcode\u003E file ending. (This is a TypeScript design decision outside our control.) Setting \u003Ccode\u003E&quot;moduleResolution&quot;: &quot;NodeNext&quot;\u003C\u002Fcode\u003E in your \u003Ccode\u003Etsconfig.json\u003C\u002Fcode\u003E or \u003Ccode\u003Ejsconfig.json\u003C\u002Fcode\u003E will help you with this.\u003C\u002Fp\u003E\n\u003Cp\u003EAll files except Svelte files (preprocessed) and TypeScript files (transpiled to JavaScript) are copied across as-is.\u003C\u002Fp\u003E\n",sections:[{title:"Anatomy of a package.json",slug:"anatomy-of-a-package-json",sections:[{title:"name",slug:"anatomy-of-a-package-json-name"},{title:"license",slug:"anatomy-of-a-package-json-license"},{title:"files",slug:"anatomy-of-a-package-json-files"},{title:"exports",slug:"anatomy-of-a-package-json-exports"},{title:"svelte",slug:"anatomy-of-a-package-json-svelte"}]},{title:"TypeScript",slug:"typescript",sections:[]},{title:"Best practices",slug:"best-practices",sections:[]},{title:"Options",slug:"options",sections:[]},{title:"Publishing",slug:"publishing",sections:[]},{title:"Caveats",slug:"caveats",sections:[]}]}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../_app/immutable/entry/start.bc2154d3.js"),
						import("../_app/immutable/entry/app.6b34a82d.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_duwvm8.element, {
							node_ids: [0, 2, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
